<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>财富管理系统</title>
<link href="../../css/zx-all.css" rel="stylesheet" type="text/css" />
<script src="../../js/zx-all.js" type="text/javascript"></script>
<style type="text/css">
/*input_tb css*/
.input_tb {
	border: 1px solid #dfdfdf;
	width: 100%;
	margin-bottom: 10px;
}

.input_tb a {
	color: #056aff;
	text-decoration: none;
	font-weight: normal;
}

.input_tb td {
	height: 35px;
	line-height: 25px;
	border-bottom: 1px dashed #d5d5d5;
	padding-top: 3px;
}

.input_tb .tr_title td {
	background-color: #f5f8ff;
	padding-left: 16px;
	font-weight: bold;
	height: 30px;
	line-height: 30px;
	border-bottom: 1px solid #dfdfdf;
}

.input_tb .tr_last td {
	border-bottom: 0;
}

.input_tb .title {
	text-align: right;
}

.input_tb .subtitle {
	text-align: left;
	background-color: #d2e1fd;
	border-top: 1px solid #fff;
	border-left: 1px solid #fff;
}

.input_tb .tr_btn_input td {
	background-color: #fbfbfb;
	/*border-top:1px solid #dbdbdb;*/
	height: 40px;
}
</style>
<script type="text/javascript">
		var rentList = [{ "is_own": '', "rentName": "请选择"}, { "is_own": "1", "rentName": "租用"}, { "is_own": "2", "rentName": "自用"}];//租用/自用
		var decideList = [{ "is_manage": '', "decideName": "请选择"}, { "is_manage": "1", "decideName": "是"}, { "is_manage": "2", "decideName": "否"}];//是/否
		var qydzList = [{ "address_type": '', "addressTypeName": "请选择"}, { "address_type": "1", "addressTypeName": "现办公地址 "}, { "address_type": "2", "addressTypeName": "现生产地址 "},{ "address_type": "3", "addressTypeName": "现库房地址"},{ "address_type": "4", "addressTypeName": "现门店地址 "}];
	
	    var wms_cre_credit_head_id;//贷款主表id
		var taskId;
	    
		var grid_qyjbqk;//企业基本情况
	    var grid_qyjbqk_data = {};
	    
	    var grid_gqjg;//股权结构、股东关系及实际经营者
	    var grid_gqjg_data = {};
	    
	    var grid_qygdzc_cfxx;  //企业固定资产-厂房信息
	    var grid_qygdzc_cfxx_data = {};
	    
	    var grid_qygdzc_clxx;  //企业固定资产-车辆信息
	    var grid_qygdzc_clxx_data = {};
	    
	    var grid_qygdzc_sbxx;  //企业固定资产-设备信息
	    var grid_qygdzc_sbxx_data = {};
	    
	    var grid_sxyqyxx_syghs;  //上下游企业信息-上游供货商
	    var grid_sxyqyxx_syghs_data = {};
	    
	    var grid_sxyqyxx_xycgs;  //上下游企业信息-下游采购商
	    var grid_sxyqyxx_xycgs_data = {};
	    
	    var grid_dywqk;  //抵押物情况
	    var grid_dywqk_data = {};
	    
	    var grid_jyqk_yszkmx;  //经营情况-主要应收账款明细
	    var grid_jyqk_yszkmx_data = {};
	    
	    var grid_jyqk_yfzkmx;  //经营情况-主要应付账款明细
	    var grid_jyqk_yfzkmx_data = {};
	    
	    var grid_jyqk_kcyl;  //经营情况-主要库存原料
	    var grid_jyqk_kcyl_data = {};
	    
	    var grid_jyqk_kcspmx;  //经营情况-主要库存商品明细
	    var grid_jyqk_kcspmx_data = {};
    
    $(function() {	
    	
    	 	wms_cre_credit_head_id  =  $.query.get('wms_cre_credit_head_id');
    	 	taskId   =  $.query.get('taskId');
    		grid_qyjbqk_data.Rows = [{"address_type": "","address_content": "","is_own": "","employee_amount":""},{"address_type": "","address_content": "","is_own": "","employee_amount":""},{"address_type": "","address_content": "","is_own": "","employee_amount":""}];
    		grid_gqjg_data.Rows = [{"shareholder_name": "","shareholder_money": "","capital_ratio": "","capital_contribution": "","shareholder_rela":"","is_manage":""},{"shareholder_name": "","shareholder_money": "","capital_ratio": "","capital_contribution": "","shareholder_rela":"","is_manage":""},{"shareholder_name": "","shareholder_money": "","capital_ratio": "","capital_contribution": "","shareholder_rela":"","is_manage":""}];
    		grid_qygdzc_cfxx_data.Rows = [{"address": "","land_area": "","plant_area": "","plant_type": "","land_right":"","plant_right":"","status":""},{"address": "","land_area": "","plant_area": "","plant_type": "","land_right":"","plant_right":"","status":""},{"address": "","land_area": "","plant_area": "","plant_type": "","land_right":"","plant_right":"","status":""}];
    		grid_qygdzc_clxx_data.Rows = [{"license_plate": "","brand": "","train_load": "","use_year": "","mileage":"","property_owner":"","status":""},{"license_plate": "","brand": "","train_load": "","use_year": "","mileage":"","property_owner":"","status":""},{"license_plate": "","brand": "","train_load": "","use_year": "","mileage":"","property_owner":"","status":""}];
    		grid_qygdzc_sbxx_data.Rows = [{"equip_name": "","equip_model": "","equip_number": "","purchase_price": "","used_year":"","oper_number":"","prod_capacity":"","Prod_frequency":""},{"equip_name": "","equip_model": "","equip_number": "","purchase_price": "","used_year":"","oper_number":"","prod_capacity":"","Prod_frequency":""},{"equip_name": "","equip_model": "","equip_number": "","purchase_price": "","used_year":"","oper_number":"","prod_capacity":"","Prod_frequency":""}];
    		grid_sxyqyxx_syghs_data.Rows = [{"ente_name": "","prod_name": "","prod_price": "","settlement_cycle":"","settlement_ratio":"","cooperation_period":""},{"ente_name": "","prod_name": "","prod_price": "","settlement_cycle":"","settlement_ratio":"","cooperation_period":""},{"ente_name": "","prod_name": "","prod_price": "","settlement_cycle":"","settlement_ratio":"","cooperation_period":""}];
    		grid_sxyqyxx_xycgs_data.Rows = [{"ente_name": "","prod_name": "","prod_price": "","settlement_cycle":"","settlement_ratio":"","cooperation_period":""},{"ente_name": "","prod_name": "","prod_price": "","settlement_cycle":"","settlement_ratio":"","cooperation_period":""},{"ente_name": "","prod_name": "","prod_price": "","settlement_cycle":"","settlement_ratio":"","cooperation_period":""}];
    		grid_dywqk_data.Rows = [{"mortgage_comment": "","mortgage_amount": "","mortgage_date": "","mortgage_cycle": "","right_person":"","mortgagee":"","mortgage_ratio":"","is_contract":"","is_cycle_mortgage":""},{"mortgage_comment": "","mortgage_amount": "","mortgage_date": "","mortgage_cycle": "","right_person":"","mortgagee":"","mortgage_ratio":"","is_contract":"","is_cycle_mortgage":""},{"mortgage_comment": "","mortgage_amount": "","mortgage_date": "","mortgage_cycle": "","right_person":"","mortgagee":"","mortgage_ratio":"","is_contract":"","is_cycle_mortgage":""}];
    		grid_jyqk_yszkmx_data.Rows = [{"customer_name": "","prod_name": "","account": "","settlement_way": "","account_period":"","contract_no":"","remark":""},{"customer_name": "","prod_name": "","account": "","settlement_way": "","account_period":"","contract_no":"","remark":""},{"customer_name": "","prod_name": "","account": "","settlement_way": "","account_period":"","contract_no":"","remark":""}];
    		grid_jyqk_yfzkmx_data.Rows = [{"customer_name": "","prod_name": "","account": "","settlement_way": "","account_period":"","contract_no":"","remark":""},{"customer_name": "","prod_name": "","account": "","settlement_way": "","account_period":"","contract_no":"","remark":""},{"customer_name": "","prod_name": "","account": "","settlement_way": "","account_period":"","contract_no":"","remark":""}];
    		grid_jyqk_kcyl_data.Rows = [{"good_material_name": "","inventory_quantity": "","purchase_price": "","daily_consumption": "","storage_location":"","storage_time":"","material_ratio":""},{"good_material_name": "","inventory_quantity": "","purchase_price": "","daily_consumption": "","storage_location":"","storage_time":"","material_ratio":""},{"good_material_name": "","inventory_quantity": "","purchase_price": "","daily_consumption": "","storage_location":"","storage_time":"","material_ratio":""}];
    		grid_jyqk_kcspmx_data.Rows = [{"good_material_name": "","inventory_quantity": "","purchase_price": "","daily_consumption": "","storage_location":"","storage_time":"","material_ratio":""},{"good_material_name": "","inventory_quantity": "","purchase_price": "","daily_consumption": "","storage_location":"","storage_time":"","material_ratio":""},{"good_material_name": "","inventory_quantity": "","purchase_price": "","daily_consumption": "","storage_location":"","storage_time":"","material_ratio":""}];

	    	//新增，删除按钮
	    	//var addid = $(".minwidth400").attr("id");
	    	var foo= $("div[class='minwidth400']"); 
	    	$(foo).each(function() {
	    		$(this).ligerToolBar({
	                items: [{
	                    text: '新增',
	                    id: this.id,
	                    click: add_top,
	                    icon: 'add'
	                },{
	                        line: true
	                },{
	                  text: '删除',
	                  id: this.id,
	                  click: delete_top,
	                  icon: 'delete'
	    			},{
	                        line: true
	                }]
	            });
	    		
	    	})
	   	
	    	changeTab("qyjbqk");   	
	        init_top_grid();
    });

    //保存
    function save(approveWorkFlowVO){ 	
    	var param 		   = globalUtil.getFormParam("qyjbqk");
    	var qyjbqk         = JSON.stringify(getGridData(grid_qyjbqk));       
    	var gqjg           = JSON.stringify(getGridData(grid_gqjg));         
    	var qygdzc_cfxx    = JSON.stringify(getGridData(grid_qygdzc_cfxx));  
    	var qygdzc_clxx    = JSON.stringify(getGridData(grid_qygdzc_clxx));  
    	var qygdzc_sbxx    = JSON.stringify(getGridData(grid_qygdzc_sbxx));  
    	var sxyqyxx_syghs  = JSON.stringify(getGridData(grid_sxyqyxx_syghs));
    	var sxyqyxx_xycgs  = JSON.stringify(getGridData(grid_sxyqyxx_xycgs));
    	var dywqk          = JSON.stringify(getGridData(grid_dywqk));        
    	var jyqk_yszkmx    = JSON.stringify(getGridData(grid_jyqk_yszkmx));  
    	var jyqk_yfzkmx    = JSON.stringify(getGridData(grid_jyqk_yfzkmx));  
    	var jyqk_kcyl      = JSON.stringify(getGridData(grid_jyqk_kcyl));    
    	var jyqk_kcspmx    = JSON.stringify(getGridData(grid_jyqk_kcspmx));  
		var other          = globalUtil.getFormParam("other");
    	
    	param.qyjbqk        = qyjbqk;      
    	param.gqjg          = gqjg;         
    	param.qygdzc_cfxx   = qygdzc_cfxx; 
    	param.qygdzc_clxx   = qygdzc_clxx;  
    	param.qygdzc_sbxx   = qygdzc_sbxx;  
    	param.sxyqyxx_syghs = sxyqyxx_syghs;
    	param.sxyqyxx_xycgs = sxyqyxx_xycgs;
    	param.dywqk         = dywqk;        
    	param.jyqk_yszkmx   = jyqk_yszkmx;  
    	param.jyqk_yfzkmx   = jyqk_yfzkmx;  
    	param.jyqk_kcyl     = jyqk_kcyl;    
    	param.jyqk_kcspmx   = jyqk_kcspmx;  
    	param.remark = other.remark;
		param.wms_cre_credit_head_id = wms_cre_credit_head_id;
		param.pass=approveWorkFlowVO.pass;
		param.advice=approveWorkFlowVO.advice;	
		param.taskId = taskId;
		
		$.post(globalUtil.getTimestampUrl("/loancheck/telTeamCheckAddRecord.do"), param,
       		function(data) {
        	if (data === 'success') {
            	 globalUtil.successMsg(globalErrorMsg['100002'], function(){            		 		
             		refreshAndClosePage();//保存成功
            	 });
             } else if(data === 'repeat'){
                 globalUtil.errorMsg(globalErrorMsg['03020212']); //名称重复！
             } else {
                 globalUtil.errorMsg(globalErrorMsg['100012']); //保存失败
             }
        });
    }
    
  //关闭页面
    function closePage(){
    	window.parent.dialog.hide();
    }
    
    //关闭本页并刷新查询页面
    function refreshAndClosePage(){    	
    	window.parent.search();
    	closePage();	
    }
    /*
    获取表格数据，去除全部为空的记录
*/
	function getGridData(grid){
		 grid.endEdit();
		 var data_all = grid.getData();
		 var griddata = [];
		 
	     for(var i=0;i<data_all.length;i++){
	 		var data = data_all[i];
	 		var isEmpty = true;
		 		if(data){
					for(var key in data){
						if($.trim(key) == '' || $.trim(key) == '__status'){continue;}
						if(!globalUtil.isEmpty(data[key])){
							if(data[key] instanceof Date){
								data[key]= data[key].format('yyyy-MM-dd');//格式化日期类型数据
							}
							isEmpty = false;
						}
					}
				}
				if(!isEmpty){
					griddata.push(data);
				}
 			}
 		return griddata;
	}
    
    
    function init_top_grid(){
    	
    	//-------------------企业基本情况-----------------------------------begin//
       var qyjbqkColumns = [{
        		display: '企业地址类型',
        		name: 'address_type',
                resizable: false,
                width: 200,
                minWidth: 200,
                editor: { 
					type: 'select', 
					data: qydzList, 
					valueField: 'address_type', 
					textField: 'addressTypeName',
					ext:{
						onChangeValue: function(value){ 
						}
					}       							
	       		},
        		render: function (rowdata, nowRowIndex, value, column) {
					return global_ligerui_extend.gridRenderSelectedValue(rowdata, nowRowIndex, value, column);
				}
            }, {
                display: '企业地址详情',
                name: 'address_content',
                resizable: false,
                width: 400,
                minWidth: 400,
                editor: { 
					type: 'text', 
					maxlength:250, 
					ext:{
						onChangeValue: function(value){ 
							
						}
				    }
				}
            }, {
                display: '租用/自用',
                name: 'is_own',
                resizable: false,
                width: 80,
                minWidth: 80,
                editor: { 
					type: 'select', 
					data: rentList, 
					valueField: 'is_own', 
					textField: 'rentName', 
					ext:{
						onChangeValue: function(value){ 
							
						}
					}   
				},
        		render: function (rowdata, nowRowIndex, value, column) {
					return global_ligerui_extend.gridRenderSelectedValue(rowdata, nowRowIndex, value, column);
       			}
            }, {
                display: '员工数',
                name: 'employee_amount',
                resizable: false,
                width: 125,
                minWidth: 125,
                editor: { 
					type: 'text', 
					maxlength:60, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isNum(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400409'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
				    	}
				    }
				}
            
            }];       	
            grid_qyjbqk = $("#grid-qyjbqk").ligerGrid({
        		columns: qyjbqkColumns,
        		data:grid_qyjbqk_data,
        		rownumbers: true,
        		allowUnSelectRow: false,
        		width: '100%',
                height: 180,
                heightDiff: -4,
        		usePager: false,
				enabledEdit: true
            });
          //-------------------企业基本情况-----------------------------------end//
        //---------------------股权结构、股东关系及实际经营者 -----------------begin//
        var gqjgColumns = [{
                display: '股东名称',
                name: 'shareholder_name',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '出资金额',
                name: 'shareholder_money',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:60, 
					ext:{
						onChangeValue: function(value){ 
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isNum(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400410'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
						}
				    }
				}
            }, {
                display: '出资占比',
                name: 'capital_ratio',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '出资方式',
                name: 'capital_contribution',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '与申请人关系',
                name: 'shareholder_rela',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '是否参与经营',
                name: 'is_manage',
                resizable: false,
                width: 80,
                minWidth: 80,
                editor: { 
					type: 'select', 
					data: decideList, 
					valueField: 'is_manage', 
					textField: 'decideName', 
					ext:{
						onChangeValue: function(value){ 
							
						}
					}   
				},
        		render: function (rowdata, nowRowIndex, value, column) {
					return global_ligerui_extend.gridRenderSelectedValue(rowdata, nowRowIndex, value, column);
       			}
            }            
            ];       	
            grid_gqjg = $("#grid-gqjg").ligerGrid({
        		columns: gqjgColumns,
        		data:grid_gqjg_data,
        		rownumbers: true,
        		allowUnSelectRow: false,
        		width: '100%',
                height: 180,
                heightDiff: -4,
        		usePager: false,
				enabledEdit: true
            });
        
        //---------------------股权结构、股东关系及实际经营者 -----------------end//
        
        //---------------------企业固定资产  -----------------begin//
        //---------------------企业固定资产  1 企业厂房信息-----------------begin//
        var qygdzcCfxxColumns = [{
        		display: '企业厂房地址',
                name: 'address',
                resizable: false,
                width: 200,
                minWidth: 200,
                editor: { 
					type: 'text', 
					maxlength:100,
					ext:{
						onChangeValue: function(value){ 
						}
					}
				}
            }, {
                display: '土地面积',
                name: 'land_area',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isFloat(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400408'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
				    	}
				    }
				}
            },{
                display: '厂房面积',
                name: 'plant_area',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isFloat(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400407'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
				    	}
				    }
				}
            }, {
                display: '类型',
                name: 'plant_type',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '土地产权',
                name: 'land_right',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '厂房产权',
                name: 'plant_right',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
	            	display: '状态',
	                name: 'status',
	                resizable: false,
	                width: 100,
	                minWidth: 100,
	                editor: { 
						type: 'text', 
						maxlength:50, 
						ext:{
							onChangeValue: function(value){ 
							}
					    }
					}

            }            
            ];       	
            grid_qygdzc_cfxx = $("#grid-top-qygdzc-cfxx").ligerGrid({
        		columns: qygdzcCfxxColumns,
        		data:grid_qygdzc_cfxx_data,
        		rownumbers: true,
        		allowUnSelectRow: false,
        		width: '100%',
                height: 180,
                heightDiff: -4,
        		usePager: false,
				enabledEdit: true
            });
              
        //---------------------企业固定资产 1 企业厂房信息 -----------------end//
        //---------------------企业固定资产 2 企业车辆信息 -----------------begin//
                
        var qygdzcClxxColumns = [{
        		display: '企业车辆牌照',
                name: 'license_plate',
                resizable: false,
                width: 200,
                minWidth: 200,
                editor: { 
					type: 'text', 
					maxlength:25,
					ext:{
						onChangeValue: function(value){ 
						}
					}
				}
            }, {
                display: '品牌型号',
                name: 'brand',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:25, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '货车载重量',
                name: 'train_load',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:25, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            }, {
                display: '使用年限',
                name: 'use_year',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:25, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							
				    	}
				    }
				}
            },{
                display: '行驶公里数',
                name: 'mileage',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:60, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isFloat(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400411'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
				    	}
				    }
				}
            },{
                display: '产权人/企业',
                name: 'property_owner',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
	            	display: '状态',
	                name: 'status',
	                resizable: false,
	                width: 100,
	                minWidth: 100,
	                editor: { 
						type: 'text', 
						maxlength:50, 
						ext:{
							onChangeValue: function(value){ 
							}
					    }
					}

            }            
            ];       	
            grid_qygdzc_clxx = $("#grid-top-qygdzc-clxx").ligerGrid({
        		columns: qygdzcClxxColumns,
        		data:grid_qygdzc_clxx_data,
        		rownumbers: true,
        		allowUnSelectRow: false,
        		width: '100%',
                height: 180,
                heightDiff: -4,
        		usePager: false,
				enabledEdit: true
            });
        

        //---------------------企业固定资产 2 企业车辆信息 -----------------end//
        
        //---------------------企业固定资产 3 企业设备信息 -----------------begin//
        var qygdzcSbxxColumns = [{
        		display: '设备/生产线名称',
                name: 'equip_name',
                resizable: false,
                width: 200,
                minWidth: 200,
                editor: { 
					type: 'text', 
					maxlength:50,
					ext:{
						onChangeValue: function(value){ 
						}
					}
				}
            }, {
                display: '型号',
                name: 'equip_model',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '数量',
                name: 'equip_number',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:60, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isNum(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400412'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
				    	}
				    }
				}
            }, {
                display: '购入价',
                name: 'purchase_price',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:60, 
					ext:{
						onChangeValue: function(value){ 
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isFloat(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400413'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
						}
				    }
				}
            },{
                display: '已使用年限',
                name: 'used_year',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:60, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isNum(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400403'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
				    	}
				    }
				}
            },{
                display: '操作人数',
                name: 'oper_number',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:60, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isNum(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400414'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
				    	}
				    }
				}
            },{
	            	display: '产能',
	                name: 'prod_capacity',
	                resizable: false,
	                width: 100,
	                minWidth: 100,
	                editor: { 
						type: 'text', 
						maxlength:50, 
						ext:{
							onChangeValue: function(value){ 
							}
					    }
	                }
				},{
				
		            	display: '生产频率',
		                name: 'prod_frequency',
		                resizable: false,
		                width: 100,
		                minWidth: 100,
		                editor: { 
							type: 'text', 
							maxlength:50, 
							ext:{
								onChangeValue: function(value){ 
								}
						    }
		                }
					}            
            ];       	
            grid_qygdzc_sbxx = $("#grid-top-qygdzc-sbxx").ligerGrid({
        		columns: qygdzcSbxxColumns,
        		data:grid_qygdzc_sbxx_data,
        		rownumbers: true,
        		allowUnSelectRow: false,
        		width: '100%',
                height: 180,
                heightDiff: -4,
        		usePager: false,
				enabledEdit: true
            });
        
        //---------------------企业固定资产 3 企业设备信息 -----------------end//
        //---------------------企业固定资产  -----------------end//
        
        //---------------------上下游企业信息  -----------------begin//
        //---------------------上下游企业信息 1 上游供货商  -----------------begin//
        var sxyqyxxSyghsColumns = [{
        		display: '上游供货商名称',
                name: 'ente_name',
                resizable: false,
                width: 200,
                minWidth: 200,
                editor: { 
					type: 'text', 
					maxlength:50,
					ext:{
						onChangeValue: function(value){ 
						}
					}
				}
            }, {
                display: '供货产品名称',
                name: 'prod_name',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '产品单价',
                name: 'prod_price',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isFloat(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400415'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
						}
				    }
				}
            }, {
                display: '结算周期',
                name: 'settlement_cycle',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '预付款/贷款结算比例',
                name: 'settlement_ratio',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '合作年限',
                name: 'cooperation_period',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:25, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							
				    	}
				    }
				}
            }
            ];       	
            grid_sxyqyxx_syghs = $("#grid-top-sxyqyxx_syghs").ligerGrid({
        		columns: sxyqyxxSyghsColumns,
        		data:grid_sxyqyxx_syghs_data,
        		rownumbers: true,
        		allowUnSelectRow: false,
        		width: '100%',
                height: 180,
                heightDiff: -4,
        		usePager: false,
				enabledEdit: true
            });
        
        //---------------------上下游企业信息 1 上游供货商  -----------------end//
        
		//---------------------上下游企业信息 2  下游采购商  -----------------begin//
		var sxyqyxxXycgsColumns = [{
        		display: '下游采购商名称',
                name: 'ente_name',
                resizable: false,
                width: 200,
                minWidth: 200,
                editor: { 
					type: 'text', 
					maxlength:50,
					ext:{
						onChangeValue: function(value){ 
						}
					}
				}
            }, {
                display: '采购产品名称',
                name: 'prod_name',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '产品单价',
                name: 'prod_price',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isFloat(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400415'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
						}
				    }
				}
            }, {
                display: '结算周期',
                name: 'settlement_cycle',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '预付款/贷款结算比例',
                name: 'settlement_ratio',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '合作年限',
                name: 'cooperation_period',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:25, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							
				    	}
				    }
				}
            }
            ];       	
            grid_sxyqyxx_xycgs = $("#grid-top-sxyqyxx_xycgs").ligerGrid({
        		columns: sxyqyxxXycgsColumns,
        		data:grid_sxyqyxx_xycgs_data,
        		rownumbers: true,
        		allowUnSelectRow: false,
        		width: '100%',
                height: 180,
                heightDiff: -4,
        		usePager: false,
				enabledEdit: true
            });
		
        //---------------------上下游企业信息 2 下游采购商  -----------------end//
        //---------------------上下游企业信息  -----------------end//   
        
        //---------------------抵押物情况  -----------------begin//
        var dywqkColumns = [{
        		display: '抵押物情况',
                name: 'mortgage_comment',
                resizable: false,
                width: 200,
                minWidth: 200,
                editor: { 
					type: 'text', 
					maxlength:50,
					ext:{
						onChangeValue: function(value){ 
						}
					}
				}
            }, {
                display: '抵押金额',
                name: 'mortgage_amount',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isFloat(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400417'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
						}
				    }
				}
            },{
                display: '抵押日期',
                name: 'mortgage_date',
                resizable: false,
                type: 'date', 
                format: "yyyy-MM-dd",
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'date', 
					maxlength:60, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            }, {
                display: '周期',
                name: 'mortgage_cycle',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '物权人',
                name: 'right_person',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '抵押权人',
                name: 'mortgagee',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
	            	display: '抵押率',
	                name: 'mortgage_ratio',
	                resizable: false,
	                width: 100,
	                minWidth: 100,
	                editor: { 
						type: 'text', 
						maxlength:50, 
						ext:{
							onChangeValue: function(value){ 
							}
					    }
	                }
				},{
				
		            	display: '合同原件',
		                name: 'is_contract',
		                resizable: false,
		                width: 100,
		                minWidth: 100,
		                editor: { 
							type: 'text', 
							maxlength:50, 
							ext:{
								onChangeValue: function(value){ 
								}
						    }
		                }
					} ,{
				
		            	display: '循环抵押',
		                name: 'is_cycle_mortgage',
		                resizable: false,
		                width: 100,
		                minWidth: 100,
		                editor: { 
							type: 'text', 
							maxlength:50, 
							ext:{
								onChangeValue: function(value){ 
								}
						    }
		                }
					}            
            ];       	
            grid_dywqk = $("#grid-top-dywqk").ligerGrid({
        		columns: dywqkColumns,
        		data:grid_dywqk_data,
        		rownumbers: true,
        		allowUnSelectRow: false,
        		width: '100%',
                height: 180,
                heightDiff: -4,
        		usePager: false,
				enabledEdit: true
            });
        
        //---------------------抵押物情况  -----------------end//
        
        //---------------------经营情况  -----------------begin//
        //---------------------经营情况 1 主要应收账款明细 -----------------begin//
        var jyqkYszkmxColumns = [{
        		display: '客户名称',
                name: 'customer_name',
                resizable: false,
                width: 200,
                minWidth: 200,
                editor: { 
					type: 'text', 
					maxlength:50,
					ext:{
						onChangeValue: function(value){ 
						}
					}
				}
            }, {
                display: '产品名称',
                name: 'prod_name',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){
						}
				    }
				}
            },{
                display: '金额',
                name: 'account',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isFloat(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400418'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
							
						}
				    }
				}
            }, {
                display: '结算方式',
                name: 'settlement_way',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '账期',
                name: 'account_period',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '合同编号',
                name: 'contract_no',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
	            	display: '备注',
	                name: 'remark',
	                resizable: false,
	                width: 100,
	                minWidth: 100,
	                editor: { 
						type: 'text', 
						maxlength:50, 
						ext:{
							onChangeValue: function(value){ 
							}
					    }
					}		
            }            
            ];       	
            grid_jyqk_yszkmx = $("#grid-top-jyqk-yszkmx").ligerGrid({
        		columns: jyqkYszkmxColumns,
        		data:grid_jyqk_yszkmx_data,
        		rownumbers: true,
        		allowUnSelectRow: false,
        		width: '100%',
                height: 180,
                heightDiff: -4,
        		usePager: false,
				enabledEdit: true
            });
        //---------------------经营情况 1 主要应收账款明细 -----------------end//
        
        //---------------------经营情况 2 主要应付账款明细 -----------------begin//
                var jyqkYfzkmxColumns = [{
        		display: '客户名称',
                name: 'customer_name',
                resizable: false,
                width: 200,
                minWidth: 200,
                editor: { 
					type: 'text', 
					maxlength:50,
					ext:{
						onChangeValue: function(value){ 
						}
					}
				}
            }, {
                display: '产品名称',
                name: 'prod_name',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '金额',
                name: 'account',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isFloat(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400418'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
						}
				    }
				}
            }, {
                display: '结算方式',
                name: 'settlement_way',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '账期',
                name: 'account_period',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '合同编号',
                name: 'contract_no',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', // 该列为可编辑状态
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
						}
				    }
				}
            },{
	            	display: '备注',
	                name: 'remark',
	                resizable: false,
	                width: 100,
	                minWidth: 100,
	                editor: { 
						type: 'text', // 该列为可编辑状态
						maxlength:50, 
						ext:{
							onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							}
					    }
					}		
            }            
            ];       	
            grid_jyqk_yfzkmx = $("#grid-top-jyqk-yfzkmx").ligerGrid({
        		columns: jyqkYfzkmxColumns,
        		data:grid_jyqk_yfzkmx_data,
        		rownumbers: true,
        		allowUnSelectRow: false,
        		width: '100%',
                height: 180,
                heightDiff: -4,
        		usePager: false,
				enabledEdit: true
            });
        //---------------------经营情况 2 主要应付账款明细 -----------------end//
        
        //---------------------经营情况 3 主要库存原料 -----------------begin//
        var jyqkKcylColumns = [{
        		display: '库存原料名称',
                name: 'good_material_name',
                resizable: false,
                width: 200,
                minWidth: 200,
                editor: { 
					type: 'text', 
					maxlength:50,
					ext:{
						onChangeValue: function(value){ 
						}
					}
				}
            }, {
                display: '现存数量',
                name: 'inventory_quantity',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isNum(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400419'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
				    	}
				    }
				}
            },{
                display: '采购单价',
                name: 'purchase_price',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isFloat(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400420'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
						}
				    }
				}
            }, {
                display: '日消耗量',
                name: 'daily_consumption',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							
				    	}
				    }
				}
            },{
                display: '存放位置',
                name: 'storage_location',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '入库时间',
                name: 'storage_time',
                resizable: false,
                type: 'date', 
                format: "yyyy-MM-dd",
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'date', 
					maxlength:60, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
	            	display: '生产原料占比',
	                name: 'material_ratio',
	                resizable: false,
	                width: 100,
	                minWidth: 100,
	                editor: { 
						type: 'text', 
						maxlength:50, 
						ext:{
							onChangeValue: function(value){ 
							}
					    }
					}		
            }            
            ];       	
            grid_jyqk_kcyl = $("#grid-top-jyqk-kcyl").ligerGrid({
        		columns: jyqkKcylColumns,
        		data:grid_jyqk_kcyl_data,
        		rownumbers: true,
        		allowUnSelectRow: false,
        		width: '100%',
                height: 180,
                heightDiff: -4,
        		usePager: false,
				enabledEdit: true
            });
        //---------------------经营情况 3 主要库存原料 -----------------end//
        
        //---------------------经营情况 4 主要库存商品明细 -----------------begin//
                var jyqkKcspmxColumns = [{
        		display: '库存商品名称',
                name: 'good_material_name',
                resizable: false,
                width: 200,
                minWidth: 200,
                editor: { 
					type: 'text', 
					maxlength:50,
					ext:{
						onChangeValue: function(value){ 
						}
					}
				}
            }, {
                display: '现存数量',
                name: 'inventory_quantity',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isNum(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400419'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
				    	}
				    }
				}
            },{
                display: '销售单价',
                name: 'purchase_price',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text',
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
							var textObj = this;
							if(!globalUtil.isEmpty(value) && !(globalUtil.isFloat(value))){								
								textObj.setValue('');
								globalUtil.warnMsg(globalErrorMsg['400421'],function(){
									textObj.inputText.focus();	//此行代码暂不可用
								});								
							}
						}
				    }
				}
            }, {
                display: '月销量',
                name: 'daily_consumption',
                resizable: false,
                width: 100,
                minWidth: 100,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ // 单元格内容发生变化时的触发事件
							
				    	}
				    }
				}
            },{
                display: '存放位置',
                name: 'storage_location',
                resizable: false,
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'text', 
					maxlength:50, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
                display: '入库时间',
                name: 'storage_time',
                resizable: false,
                type: 'date', 
                format: "yyyy-MM-dd",
                width: 150,
                minWidth: 150,
                editor: { 
					type: 'date', 
					maxlength:60, 
					ext:{
						onChangeValue: function(value){ 
						}
				    }
				}
            },{
	            	display: '销售商品占比',
	                name: 'material_ratio',
	                resizable: false,
	                width: 100,
	                minWidth: 100,
	                editor: { 
						type: 'text', 
						maxlength:50, 
						ext:{
							onChangeValue: function(value){ 
							}
					    }
					}		
            }            
            ];       	
            grid_jyqk_kcspmx = $("#grid-top-jyqk-kcspmx").ligerGrid({
        		columns: jyqkKcspmxColumns,
        		data:grid_jyqk_kcspmx_data,
        		rownumbers: true,
        		allowUnSelectRow: false,
        		width: '100%',
                height: 180,
                heightDiff: -4,
        		usePager: false,
				enabledEdit: true
            });
        //---------------------经营情况 4 主要库存商品明细 -----------------end//
        //---------------------经营情况  -----------------end//
    }
    //新增按钮 ，增加一行数据
    function add_top() {

    	var addid = this.id.substring(7);  	
    	var manager = $("#grid"+addid).ligerGetGridManager();   
    	manager.addRow({'address_type':'','is_manage':'','is_own':''});
    };    
    function delete_top() {
    	var addid = this.id.substring(7);
    	var manager = $("#grid"+addid).ligerGetGridManager();
        var row = manager.getSelectedRow();
        if (!row) {
            globalUtil.warnMsg(globalErrorMsg['100001']); 
            return;
        }
        
        globalUtil.confirmMsg(globalErrorMsg['100016'],
        function(yes) { 
        	if(yes){
        		global_ligerui_extend.deleteSelectedRow(manager);
        	}
        });
    }
	function sp(){
		var url = globalUtil.getHtml("../creditManage/spapprove.html?wms_cre_credit_head_id="+wms_cre_credit_head_id);
		dialog=$.ligerDialog.open({
			url:url,
			title: '审批',
	        width: 1000,
	        height: globalUtil.setDialogHeight(500),
	        onHiddenOrClose: function(){
	    	},
	        isResize: false
		});  
	}
	 function closeDialog() {
			window.parent.dialog.hide();
	    }
    //不进行四舍五入保留n位小数
    function changeDecimal(x, n) {
        if ($.trim(x).length == 0) {
            return '';
        }
        var str = $.trim(x) + '';
        var pattern = new RegExp('\-{0,1}[0-9]+(\.[0-9]{1,' + n + '}){0,1}', '');
        str = str.match(pattern)[0];
        return str;
    }
    function changeTab(id) {
        var qyjbqk = document.getElementById("qyjbqk"); //企业基本情况tab
        var gqjg = document.getElementById("gqjg"); //股权结构、股东关系及实际经营者tab
        var qygdzc = document.getElementById("qygdzc"); //企业固定资产tab
        var sxyqyxx = document.getElementById("sxyqyxx"); //上下游企业信息tab
        var dywqk = document.getElementById("dywqk"); //抵押物情况tab
        var jyqk = document.getElementById("jyqk"); //经营情况tab
        var other = document.getElementById("other");//其他情况说明tab
        if (id == 'qyjbqk') {
         qyjbqk.style.display = '';
         gqjg.style.display = 'none';
         qygdzc.style.display = 'none';
         sxyqyxx.style.display = 'none';
         dywqk.style.display = 'none';
         jyqk.style.display = 'none';
         other.style.display = 'none';
         document.getElementById("tabbody1").className = "tabbody1";
         document.getElementById("tabbody2").className = "tabbody2";
         document.getElementById("tabbody3").className = "tabbody2";
         document.getElementById("tabbody4").className = "tabbody2";
         document.getElementById("tabbody5").className = "tabbody2";
         document.getElementById("tabbody6").className = "tabbody2";
         document.getElementById("tabbody7").className = "tabbody2";
        } else if (id == 'gqjg') {
         qyjbqk.style.display = 'none';
         gqjg.style.display = '';
         qygdzc.style.display = 'none';
         sxyqyxx.style.display = 'none';
         dywqk.style.display = 'none';
         jyqk.style.display = 'none';
         other.style.display = 'none';
         document.getElementById("tabbody2").className = "tabbody1";
         document.getElementById("tabbody1").className = "tabbody2";
         document.getElementById("tabbody3").className = "tabbody2";
         document.getElementById("tabbody4").className = "tabbody2";
         document.getElementById("tabbody5").className = "tabbody2";
         document.getElementById("tabbody6").className = "tabbody2";
         document.getElementById("tabbody7").className = "tabbody2";
        } else if (id == 'qygdzc') {
         qyjbqk.style.display = 'none';
         gqjg.style.display = 'none';
         qygdzc.style.display = '';
         sxyqyxx.style.display = 'none';
         dywqk.style.display = 'none';
         jyqk.style.display = 'none';
         other.style.display = 'none';
         document.getElementById("tabbody3").className = "tabbody1";
         document.getElementById("tabbody2").className = "tabbody2";
         document.getElementById("tabbody1").className = "tabbody2";
         document.getElementById("tabbody4").className = "tabbody2";
         document.getElementById("tabbody5").className = "tabbody2";
         document.getElementById("tabbody6").className = "tabbody2";
         document.getElementById("tabbody7").className = "tabbody2";
        } else if (id == 'sxyqyxx') {
         qyjbqk.style.display = 'none';
         gqjg.style.display = 'none';
         qygdzc.style.display = 'none';
         sxyqyxx.style.display = '';
         dywqk.style.display = 'none';
         jyqk.style.display = 'none';
         other.style.display = 'none';
         document.getElementById("tabbody1").className = "tabbody2";
         document.getElementById("tabbody2").className = "tabbody2";
         document.getElementById("tabbody3").className = "tabbody2";
         document.getElementById("tabbody4").className = "tabbody1";
         document.getElementById("tabbody5").className = "tabbody2";
         document.getElementById("tabbody6").className = "tabbody2";
         document.getElementById("tabbody7").className = "tabbody2";
        } else if (id == 'dywqk') {
         qyjbqk.style.display = 'none';
         gqjg.style.display = 'none';
         qygdzc.style.display = 'none';
         sxyqyxx.style.display = 'none';
         dywqk.style.display = '';
         jyqk.style.display = 'none';
         other.style.display = 'none';
         document.getElementById("tabbody1").className = "tabbody2";
         document.getElementById("tabbody2").className = "tabbody2";
         document.getElementById("tabbody3").className = "tabbody2";
         document.getElementById("tabbody4").className = "tabbody2";
         document.getElementById("tabbody5").className = "tabbody1";
         document.getElementById("tabbody6").className = "tabbody2";
         document.getElementById("tabbody7").className = "tabbody2";
        } else if (id == 'jyqk') {
         qyjbqk.style.display = 'none';
         gqjg.style.display = 'none';
         qygdzc.style.display = 'none';
         sxyqyxx.style.display = 'none';
         dywqk.style.display = 'none';
         jyqk.style.display = '';
         other.style.display = 'none';
         document.getElementById("tabbody1").className = "tabbody2";
         document.getElementById("tabbody2").className = "tabbody2";
         document.getElementById("tabbody3").className = "tabbody2";
         document.getElementById("tabbody4").className = "tabbody2";
         document.getElementById("tabbody5").className = "tabbody2";
         document.getElementById("tabbody6").className = "tabbody1";
         document.getElementById("tabbody7").className = "tabbody2";
        } else if (id == 'other') {
            qyjbqk.style.display = 'none';
            gqjg.style.display = 'none';
            qygdzc.style.display = 'none';
            sxyqyxx.style.display = 'none';
            dywqk.style.display = 'none';
            jyqk.style.display = 'none';
            other.style.display = '';
            document.getElementById("tabbody1").className = "tabbody2";
            document.getElementById("tabbody2").className = "tabbody2";
            document.getElementById("tabbody3").className = "tabbody2";
            document.getElementById("tabbody4").className = "tabbody2";
            document.getElementById("tabbody5").className = "tabbody2";
            document.getElementById("tabbody6").className = "tabbody2";
            document.getElementById("tabbody7").className = "tabbody1";
           }
        
    }
    function onmyinput(o)
    {
     if(o.value.length>=o.getAttribute("maxlength"))
     {
      if(o.value.length>o.getAttribute("maxlength"))
       o.value = o.value.substring(0,o.getAttribute("maxlength"));
      return false;
     }
     return true;
    }
    function mygetclipdata()
    {
     if(!document.all)
     {
      netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect');
      var clip = Components.classes['@mozilla.org/widget/clipboard;1'].createInstance(Components.interfaces.nsIClipboard);
      var trans = Components.classes['@mozilla.org/widget/transferable;1'].createInstance(Components.interfaces.nsITransferable);
      trans.addDataFlavor('text/unicode');
      var str = Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);
      clip.getData(trans,clip.kGlobalClipboard);
      var str=new Object();
      var strLength=new Object();
      trans.getTransferData("text/unicode",str,strLength); 
      if (str)
      str=str.value.QueryInterface(Components.interfaces.nsISupportsString);
      var pastetext;
      if (str)
      pastetext=str.data.substring(0,strLength.value / 2);
      return pastetext;
     }
     else
     {
      return window.clipboardData.getData("Text");
     }
    }
    function mysetclipdata(o)
    {
     if(!document.all)
     {
      netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect');
      var clip = Components.classes['@mozilla.org/widget/clipboard;1'].createInstance(Components.interfaces.nsIClipboard);
      var trans = Components.classes['@mozilla.org/widget/transferable;1'].createInstance(Components.interfaces.nsITransferable);
      trans.addDataFlavor("text/unicode");
      var str = Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);
      str.data=o;
      trans.setTransferData("text/unicode",str,o.length*2);
      var clipid=Components.interfaces.nsIClipboard;
      clip.setData(trans,null,clipid.kGlobalClipboard);
     }
     else
     {
      window.clipboardData.setData("Text",o);
     }
    }
    function onmypaste(o)
    {
     var nMaxLen=o.getAttribute? parseInt(o.getAttribute("maxlength")):"";
     if(!document.all)
     {
      //alert("输入的字符大于250个，超出了限制！！");
      globalUtil.errorMsg("输入的字符超出了限制！！"); //提示x
     }
     else
     {

      if(document.selection.createRange().text.length>0)
      {
       var ovalueandclipboarddata = o.value +window.clipboardData.getData("Text");
       if(o.getAttribute && ovalueandclipboarddata.length-document.selection.createRange().text.length>nMaxLen)
       {
        if(window.clipboardData.getData("Text").substring(0,document.selection.createRange().text.length+nMaxLen-o.value.length)!="")
         window.clipboardData.setData("Text",window.clipboardData.getData("Text").substring(0,document.selection.createRange().text.length+nMaxLen-o.value.length));
        else
         return false;
       }
      }
      else
      {
       var ovalueandclipboarddata = o.value +window.clipboardData.getData("Text");
       if(o.getAttribute && ovalueandclipboarddata.length>nMaxLen)
       {
        if(ovalueandclipboarddata.substring(0,nMaxLen-o.value.length)!="")
         window.clipboardData.setData("Text",ovalueandclipboarddata.substring(0,nMaxLen-o.value.length));
        else
         return false;
       }
      }
      return true;
     }
    }
    function onmykeypress(o)
    {
     if(!document.all)
     {
      var nMaxLen=o.getAttribute? parseInt(o.getAttribute("maxlength")):"";

      if(onmykeypress.caller.arguments[0].ctrlKey == true)
      {
       if(onmykeypress.caller.arguments[0].which==118)
       {

        if(o.selectionStart<o.selectionEnd)
        {
         var ovalueandclipboarddata = o.value + mygetclipdata();
         if(o.getAttribute && (ovalueandclipboarddata.length-o.selectionEnd + o.selectionStart>nMaxLen))
         {
          if(mygetclipdata().substring(0,o.selectionEnd - o.selectionStart+nMaxLen-o.value.length)!="")
           mysetclipdata(mygetclipdata().substring(0,o.selectionEnd - o.selectionStart+nMaxLen-o.value.length));
          else
           return false;
         }
        }
        else
        {
         var ovalueandclipboarddata = o.value +mygetclipdata();
         if(o.getAttribute && ovalueandclipboarddata.length>nMaxLen)
         {
          if(ovalueandclipboarddata.substring(0,nMaxLen-o.value.length)!="")
           mysetclipdata(ovalueandclipboarddata.substring(0,nMaxLen-o.value.length));
          else
           return false;
         }
        }
        return true;

       }
      }


      if(onmykeypress.caller.arguments[0].which==0 || onmykeypress.caller.arguments[0].which==8)
       return true;
      if(o.value.length>=o.getAttribute("maxlength"))
      {
       if(o.selectionStart<o.selectionEnd)
        return true;
       if(o.value.length>o.getAttribute("maxlength"))
        o.value = o.value.substring(0,o.getAttribute("maxlength"));
       return false;
      }
      else
       return true;
     
     }
     else
     {
      if(document.selection.createRange().text.length>0)
       return true;
      if(o.value.length>=o.getAttribute("maxlength"))
       return false;
      else
       return true;
     }
    }   
</script>
</head>
<body>
	<div class="tab_titleT">
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr valign="bottom" id='trtab1'>
				<td class="tabbody1" id="tabbody1" onclick="changeTab('qyjbqk');"><div
						align="center">企业基本情况</div></td>
				<td class="tabbody2" id="tabbody2" onclick="changeTab('gqjg');"><div
						align="center">股权结构、股东关系及实际经营者</div></td>
				<td class="tabbody3" id="tabbody3" onclick="changeTab('qygdzc');"><div
						align="center">企业固定资产</div></td>
				<td class="tabbody3" id="tabbody4" onclick="changeTab('sxyqyxx');"><div
						align="center">上下游企业信息</div></td>
				<td class="tabbody3" id="tabbody5" onclick="changeTab('dywqk');"><div
						align="center">抵押物情况</div></td>
				<td class="tabbody3" id="tabbody6" onclick="changeTab('jyqk');"><div
						align="center">经营情况</div></td>
				<td class="tabbody3" id="tabbody7" onclick="changeTab('other');"><div
						align="center">其他</div></td>
			</tr>
		</table>
	</div>
	<div class="pop-center overflow-au" style="top: 30px;">
		<div id="qyjbqk" class="pop-formDiv clearfix"
			style="margin: 5px; min-width: 700px;">
			<div class="float-l clearboth" style="height: 10px;"></div>
			<div class="center-content clearboth" style="min-width: 700px;">
				<div class="center-title">企业基本情况</div>
				<div class="center-txt" style="margin-bottom: 10px;">
					<div id="toolbar-qyjbqk" class="minwidth400"></div>
					<div id="grid-qyjbqk"></div>
				</div>
				<div class="pop-form-title2">经营模式/生产流程：</div>
				<div class="pop-form-item">
					<!-- style="width: 180%" -->
					<textarea id="business_model" name="business_model" class="h40"
						style="resize: none; width: 700px; height: 115px" maxlength="250"
						onpropertychange="onmyinput(this)"
						oninput="return onmyinput(this)";" ></textarea>
				</div>
			</div>
		</div>

		<div id="gqjg" class="pop-formDiv clearfix"
			style="margin: 5px; min-width: 700px;">
			<div class="float-l clearboth" style="height: 10px;"></div>
			<div class="center-content clearboth" style="min-width: 700px;">
				<div class="center-title">股权结构、股东关系及实际经营者</div>
				<div class="center-txt" style="margin-bottom: 10px;">
					<div id="toolbar-gqjg" class="minwidth400"></div>
					<div id="grid-gqjg"></div>
				</div>
			</div>
		</div>

		<div id="qygdzc" class="pop-formDiv clearfix"
			style="margin: 5px; min-width: 700px;">
			<div class="float-l clearboth" style="height: 10px;"></div>
			<div class="center-content clearboth" style="min-width: 700px;">
				<div class="center-title">企业固定资产</div>

				<div class="center-txt" style="margin-bottom: 10px;">
					<div id="toolbar-top-qygdzc-cfxx" class="minwidth400"></div>
					<div id="grid-top-qygdzc-cfxx"></div>
				</div>

				<div class="center-txt" style="margin-bottom: 10px;">
					<div id="toolbar-top-qygdzc-clxx" class="minwidth400"></div>
					<div id="grid-top-qygdzc-clxx"></div>
				</div>

				<div class="center-txt" style="margin-bottom: 10px;">
					<div id="toolbar-top-qygdzc-sbxx" class="minwidth400"></div>
					<div id="grid-top-qygdzc-sbxx"></div>
				</div>
			</div>
		</div>

		<div id="sxyqyxx" class="pop-formDiv clearfix"
			style="margin: 5px; min-width: 700px;">
			<div class="float-l clearboth" style="height: 10px;"></div>
			<div class="center-content clearboth" style="min-width: 700px;">
				<div class="center-title">上下游企业信息</div>
				<div class="center-txt" style="margin-bottom: 10px;">
					<div id="toolbar-top-sxyqyxx_syghs" class="minwidth400"></div>
					<div id="grid-top-sxyqyxx_syghs"></div>
				</div>

				<div class="center-txt" style="margin-bottom: 10px;">
					<div id="toolbar-top-sxyqyxx_xycgs" class="minwidth400"></div>
					<div id="grid-top-sxyqyxx_xycgs"></div>
				</div>
			</div>
		</div>

		<div id="dywqk" class="pop-formDiv clearfix"
			style="margin: 5px; min-width: 700px;">
			<div class="float-l clearboth" style="height: 10px;"></div>
			<div class="center-content clearboth" style="min-width: 700px;">
				<div class="center-title">抵押物情况</div>
				<div class="center-txt" style="margin-bottom: 10px;">
					<div id="toolbar-top-dywqk" class="minwidth400"></div>
					<div id="grid-top-dywqk"></div>
				</div>
			</div>
		</div>

		<div id="jyqk" class="pop-formDiv clearfix"
			style="margin: 5px; min-width: 700px;">
			<div class="float-l clearboth" style="height: 10px;"></div>
			<div class="center-content clearboth" style="min-width: 700px;">
				<div class="center-title">主要应收账款明细</div>
				<div class="center-txt" style="margin-bottom: 10px;">
					<div id="toolbar-top-jyqk-yszkmx" class="minwidth400"></div>
					<div id="grid-top-jyqk-yszkmx"></div>
				</div>

				<div class="center-title">主要应付账款明细</div>
				<div class="center-txt" style="margin-bottom: 10px;">
					<div id="toolbar-top-jyqk-yfzkmx" class="minwidth400"></div>
					<div id="grid-top-jyqk-yfzkmx"></div>
				</div>

				<div class="center-title">主要库存原料</div>
				<div class="center-txt" style="margin-bottom: 10px;">
					<div id="toolbar-top-jyqk-kcyl" class="minwidth400"></div>
					<div id="grid-top-jyqk-kcyl"></div>
				</div>

				<div class="center-title">主要库存商品明细</div>
				<div class="center-txt" style="margin-bottom: 10px;">
					<div id="toolbar-top-jyqk-kcspmx" class="minwidth400"></div>
					<div id="grid-top-jyqk-kcspmx"></div>
				</div>
			</div>
		</div>

		<div id="other" class="pop-formDiv clearfix"
			style="margin: 5px; min-width: 700px;">
			<div class="float-l clearboth" style="height: 10px;"></div>
			<div class="center-content clearboth" style="min-width: 700px;">
				<div class="center-title">其他情况说明</div>
				<div class="pop-form-item" style="margin: 0 auto;">

					<textarea id="remark" name="remark" class="h40"
						style="resize: none; width: 956px; height: 300px;" maxlength="500"
						onpropertychange="onmyinput(this)"
						oninput="return onmyinput(this)";" ></textarea>
				</div>
			</div>
		</div>





	</div>
	<div class="pop-footer5 clearboth" style="bottom: 1px;">
		<input id="tjbtn" class="btn-saveT"
			onmouseover="this.className='btn-saveT-over'"
			onmouseout="this.className='btn-saveT'"
			onmousedown="this.className='btn-saveT-down'" type="button"
			style="margin-right: 7px;" onclick="sp()" /> <input id="cancelBtnId"
			class="btn-cancel" onmouseover="this.className='btn-cancel-over'"
			onmouseout="this.className='btn-cancel'"
			onmousedown="this.className='btn-cancel-down'" type="button"
			onclick="closeDialog();" />
	</div>

</body>
</html>
