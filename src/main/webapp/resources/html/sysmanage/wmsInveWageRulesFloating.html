<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>理财工资规则配置-浮动工资配置</title>
<link href="../../css/app.css" type="text/css" rel="stylesheet" />
<link href="../../css/zx-all.css" rel="stylesheet" type="text/css" />
<script src="../../js/zx-all.js" type="text/javascript"></script>
<style type="text/css">
.textright{
text-align:right;
}
.textleft{
text-align:left;
}
/*input_tb css*/
.input_tb_new{
/*border:1px solid #dfdfdf;*/
width:100%;
margin-bottom:10px;
}
.input_tb_new a{
color:#056aff;
text-decoration:none;
font-weight:normal;
}
.input_tb_new td{
height:35px;
line-height:25px;
/*border-bottom:1px dashed #d5d5d5;*/
padding-top:3px;
}
.input_tb_new .tr_title td{
background-color:#f5f8ff;
padding-left:16px;
font-weight:bold;
height:30px;
line-height:30px;
/*border-bottom:1px solid #dfdfdf;*/
}
.input_tb_new .tr_last td{
border-bottom:0;
}
.input_tb_new .title{
text-align:right;
}
.input_tb_new .subtitle{
text-align:left;
background-color:#d2e1fd;
border-top:1px solid #fff;
/*border-left:1px solid #fff;*/
}
.input_tb_new .tr_btn_input td{
background-color:#fbfbfb;
/*border-top:1px solid #dbdbdb;*/
/*height:40px;*/

}
.title_tb{
background-color:#f5f8ff;
padding-left:16px;
font-weight:bold;
height:30px;
line-height:30px;
height: 35px;
line-height: 25px;
padding-top: 3px;
}
.data_tb td{
height:30px;
line-height:24px;
padding-left:10px;
border-bottom:1px dashed #e3e4e6;
text-align:left;
}
</style>
<script type="text/javascript">
    var grid_fdgz;
    var wms_inve_wagerules_head_id =$.query.get("wms_inve_wagerules_head_id");//获取工资主表主键
	$(function(){
		initGrid();
	});
    //初始化列表数据
	function initGrid() {
		
		var getFloatingTypeData=[{"floating_type":"-1","floating_type_name":"请选择"},{"floating_type":"0","floating_type_name":"存量"},{"floating_type":"1","floating_type_name":"本月净增"},{"floating_type":"2","floating_type_name":"本月新增"}];
		var getFloatingScopeData=[{"floating_scope":"-1","floating_scope_name":"请选择"},{"floating_scope":"0","floating_scope_name":"个人"},{"floating_scope":"1","floating_scope_name":"团队"}];
		var getWageOperationData=[{"wage_operation":"-1","wage_operation_name":"请选择"},{"wage_operation":"0","wage_operation_name":"+"},{"wage_operation":"1","wage_operation_name":"-"}];
		
		var columns =[{
			
			display: '浮动考核项',
			name: 'floating_type',
			resizable: false,
			width: 150,
			minWidth: 150,
			editor: { 
				type: 'select',
				data: getFloatingTypeData, 
				valueField:'floating_type',
				textField:'floating_type_name'
			},
			render: function (rowdata, nowRowIndex, value, column) {
				return global_ligerui_extend.gridRenderSelectedValue2(rowdata, value, column);
			}
		},{
			display: '浮动考核范围',
			name: 'floating_scope',
			resizable: false,
			width: 100,
			minWidth: 100,
			editor: { 
				type: 'select',
				data: getFloatingScopeData, 
				valueField:'floating_scope',
				textField:'floating_scope_name'
			},
			render: function (rowdata, nowRowIndex, value, column) {
				return global_ligerui_extend.gridRenderSelectedValue2(rowdata, value, column);
			}
		},{
			display: '累计存量起始(万)',
			name: 'cumulate_begin',
			resizable: false,
			width: 120,
			minWidth: 120,
			editor: { 
				type: 'text'
			}
		},{
			display: '存量累计截止(万)',
			name: 'cumulate_end',
			resizable: false,
			width: 120,
			minWidth: 120,
			editor: { 
				type: 'text'
			}
		},{
			display: '浮动标识',
			name: 'wage_operation',
			resizable: false,
			width: 150,
			minWidth: 150,
			editor: { 
				type: 'select',
				data: getWageOperationData, 
				valueField:'wage_operation',
				textField:'wage_operation_name'
			},
			render: function (rowdata, nowRowIndex, value, column) {
				return global_ligerui_extend.gridRenderSelectedValue2(rowdata, value, column);
			}
		},{
			display: '浮动工资额度(元)',
			name: 'floating_wage_money',
			resizable: false,
			width: 120,
			minWidth: 120,
			editor: { 
				type: 'text'
			}
		}];
		grid_fdgz = $("#grid_fdgz").ligerGrid({
			columns: columns,
    		url: global_param.context_name +'/inve/getWmsInveWageRulesFloatingInfoByfk.do?wms_inve_wagerules_head_id='+wms_inve_wagerules_head_id,
    		sortName: 'wms_inve_wagerules_floating_id', // 排序列名
			sortOrder: 'desc', // 排序方式
    		rownumbers: true,
    		allowUnSelectRow: true,
    		enabledEdit: true,
    		usePager: false,
    		width: '100%',
			height:'88%',
    		heightDiff: -4,
			clickToEdit:false
        });
	}
	//取消当前显示页
	function closeDialog() {
		window.parent.dialog.hide();
	}
</script>
</head>
<body>
<div>
		<div  class="pop-center overflow-au"  style="top:0px;">
		<!-- ------------------------------------------------------------------浮动工资配置规则 begin------------------------------------------------------------------ -->
		<div id="fdgzinfo" class="pop-formDiv clearfix" style="margin: 5px;">
				<div id="grid_fdgz"></div>
		</div>
	    <!-- ------------------------------------------------------------------浮动工资配置规则 end------------------------------------------------------------------ -->
		</div>
</div>
<div class="pop-footer5 clearboth" style="bottom:1px; height:35px;">
    <input id="cancelBtnId" class="btn-cancel" onmouseover="this.className='btn-cancel-over'" onmouseout="this.className='btn-cancel'" onmousedown="this.className='btn-cancel-down'" type="button" onclick="closeDialog();"/>
</div>
</body>
</html>
