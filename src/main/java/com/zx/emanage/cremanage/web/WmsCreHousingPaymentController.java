package com.zx.emanage.cremanage.web;import java.util.Map;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpSession;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import com.zx.emanage.cremanage.service.IWmsCreHousingPaymentService;import com.zx.emanage.cremanage.vo.WmsCreHousingPaymentSearchBeanVO;import com.zx.emanage.cremanage.vo.WmsHouseCreditWorkFlowVO;import com.zx.emanage.util.gen.entity.WmsCreHousingPayment;import com.zx.emanage.util.gen.vo.WmsCreCreditHeadVO;import com.zx.sframe.util.GlobalVal;import com.zx.sframe.util.vo.UserBean;/* * @author administrator */@Controllerpublic class WmsCreHousingPaymentController {    private static Logger log = LoggerFactory.getLogger(WmsCreHousingPaymentController.class);    @Autowired    private IWmsCreHousingPaymentService wmscrehousingpaymentService;        @Autowired    private IWmsCreHousingPaymentService iwmscrehousingpaymentservice;    /**     * Description : 获取结果集(不带分页)     *      * @param queryInfo     * @return record list     * @author administrator     */    @RequestMapping(value = "/cremanage/SearchWmsCreHousingPaymentWithoutPagingList.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public Map<String, Object> getListWithoutPaging(WmsCreHousingPaymentSearchBeanVO queryInfo) {        return wmscrehousingpaymentService.getListWithoutPaging(queryInfo);    }    /**     * Description : 获取结果集(带分页)     *      * @param queryInfo     * @return record list     * @author administrator     */    @RequestMapping(value = "/cremanage/SearchWmsCreHousingPaymentWithPagingList.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public Map<String, Object> getListWithPaging(WmsCreHousingPaymentSearchBeanVO queryInfo) {        return wmscrehousingpaymentService.getListWithPaging(queryInfo);    }    /**     * Description : 通过主键获取结果     *      * @param primary key     * @return WmsCreHousingPaymentVO     * @author administrator     */    @RequestMapping(value = "/cremanage/WmsCreHousingPaymentGetInfoByPK.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public WmsCreHousingPayment getInfoByPK(Integer WmsCreHousingPayment_id) {        return wmscrehousingpaymentService.getInfoByPK(WmsCreHousingPayment_id);    }    /**     * Description : 新增记录     *      * @param bean     * @return "success" or "error" or user defined     * @author administrator     */    @RequestMapping(value = "/cremanage/WmsCreHousingPaymentSave.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public String doSave(HttpServletRequest request, WmsCreHousingPayment bean) {        String result = "";        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        try {            result = wmscrehousingpaymentService.save(bean, user);        }        catch (Exception e) {            log.error(e.getMessage());            result = "error";        }        return result;    }    /**     * Description : 更新记录     *      * @param bean     * @return "success" or "error" or user defined     * @author administrator     */    @RequestMapping(value = "/cremanage/WmsCreHousingPaymentUpdate.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public String doUpdate(HttpServletRequest request, WmsCreHousingPayment bean) {        String result = "";        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        try {            result = wmscrehousingpaymentService.update(bean, user);        }        catch (Exception e) {            log.error(e.getMessage());            result = "error";        }        return result;    }        /**     * Description :get record list records by vo queryInfo with paging     *      * @param queryInfo     * @return record list     * @author auto_generator     */    @RequestMapping(value = "/cremanage/wmscrecustomerchangelinehouseinfowithpagingseach.do", method = {                                                                                                       RequestMethod.GET,                                                                                                       RequestMethod.POST })    @ResponseBody    public Map<String, Object> getSeachForPaymentVerification(WmsCreCreditHeadVO queryInfo,HttpServletRequest request)    {        // 获取当前登录人        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        return iwmscrehousingpaymentservice.getSeachForPaymentVerification(queryInfo,user);    }        /**     * Description :get record list records by vo queryInfo with paging     *      * @param queryInfo     * @return record list     * @author auto_generator     */    @RequestMapping(value = "/cremanage/wmscrecustomerchangelinehouseinfowithpagingseachout.do", method = {                                                                                                       RequestMethod.GET,                                                                                                       RequestMethod.POST })    @ResponseBody    public Map<String, Object> getSeachForPaymentVerificationOut(WmsCreCreditHeadVO queryInfo,HttpServletRequest request)    {        // 获取当前登录人        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        return iwmscrehousingpaymentservice.getSeachForPaymentVerificationOut(queryInfo,user);    }        /**     * 缴费确认页面初始化数据     */    @RequestMapping(value = "/cremanage/housingPaymentVerificationDisp.do", method = {RequestMethod.GET, RequestMethod.POST })	@ResponseBody	public Map<String, Object> housingPaymentVerificationDisp(WmsCreHousingPaymentSearchBeanVO queryInfo, HttpServletRequest request) {        // 获取当前登录人        HttpSession session = request.getSession();		UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);		return iwmscrehousingpaymentservice.housingPaymentVerificationDisp(queryInfo, user);	}        /**     * 缴费确认页面保存     */    @RequestMapping(value = "/cremanage/housingPaymentVerificationSave.do", method = {RequestMethod.GET, RequestMethod.POST })	@ResponseBody	public String housingPaymentVerificationSave(WmsCreHousingPaymentSearchBeanVO queryInfo, HttpServletRequest request) {        // 获取当前登录人        HttpSession session = request.getSession();		UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);		return iwmscrehousingpaymentservice.housingPaymentVerificationSave(queryInfo, user);	}    /**     * @Title: housingPaymentVerificationTwoSave     * @Description: TODO(缴费查询缴费确认页面保存)     * @param queryInfo     * @param user     * @return String     * @author: jiaodelong     * @time:2016年12月7日 上午9:54:38     * @see com.zx.emanage.cremanage.service.IWmsCreHousingPaymentService#housingPaymentVerificationTwoSave(com.zx.emanage.cremanage.vo.WmsCreHousingPaymentSearchBeanVO, com.zx.sframe.util.vo.UserBean)     * history:     * 1、2016年12月7日 jiaodelong 创建方法    */    @RequestMapping(value = "/cremanage/housingPaymentVerificationTwoSave.do", method = { RequestMethod.GET, RequestMethod.POST })    @ResponseBody    public String housingPaymentVerificationTwoSave(WmsCreHousingPaymentSearchBeanVO queryInfo, HttpServletRequest request)    {        // 获取当前登录人        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        return iwmscrehousingpaymentservice.housingPaymentVerificationTwoSave(queryInfo, user);    }    /**     * 缴费过期页面     */    @RequestMapping(value = "/cremanage/paymentExpired.do", method = {RequestMethod.GET, RequestMethod.POST })	@ResponseBody	public String paymentExpired( WmsHouseCreditWorkFlowVO queryInfo, HttpServletRequest request) {    	String result = "success";        // 获取当前登录人        HttpSession session = request.getSession();		UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);		try {			iwmscrehousingpaymentservice.paymentExpired(queryInfo, user);		} catch (Exception e) {			log.error(e.getMessage());            result = "error";		}		return result;	}    }