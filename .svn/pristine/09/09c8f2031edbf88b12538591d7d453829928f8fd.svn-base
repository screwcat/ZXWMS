package com.zx.emanage.cremanage.web;import java.util.HashMap;import java.util.Map;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpSession;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import com.zx.emanage.cremanage.service.IWmsCreHousingAgainApplService;import com.zx.emanage.util.gen.entity.WmsCreHousingAgainAppl;import com.zx.emanage.cremanage.vo.WmsCreHousingAgainApplSearchBeanVO;import com.zx.sframe.util.GlobalVal;import com.zx.sframe.util.vo.UserBean;/* * @author administrator */@Controllerpublic class WmsCreHousingAgainApplController {    private static Logger log = LoggerFactory.getLogger(WmsCreHousingAgainApplController.class);    @Autowired    private IWmsCreHousingAgainApplService wmscrehousingagainapplService;    /**     * Description : 获取结果集(不带分页)     *      * @param queryInfo     * @return record list     * @author administrator     */    @RequestMapping(value = "/cremanage/SearchWmsCreHousingAgainApplWithoutPagingList.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public Map<String, Object> getListWithoutPaging(WmsCreHousingAgainApplSearchBeanVO queryInfo) {        return wmscrehousingagainapplService.getListWithoutPaging(queryInfo);    }    /**     * Description : 获取结果集(带分页)     *      * @param queryInfo     * @return record list     * @author administrator     */    @RequestMapping(value = "/cremanage/SearchWmsCreHousingAgainApplWithPagingList.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public Map<String, Object> getListWithPaging(WmsCreHousingAgainApplSearchBeanVO queryInfo) {        return wmscrehousingagainapplService.getListWithPaging(queryInfo);    }    /**     * Description : 通过主键获取结果     *      * @param primary key     * @return WmsCreHousingAgainApplVO     * @author administrator     */    @RequestMapping(value = "/cremanage/WmsCreHousingAgainApplGetInfoByPK.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public WmsCreHousingAgainAppl getInfoByPK(Integer WmsCreHousingAgainAppl_id) {        return wmscrehousingagainapplService.getInfoByPK(WmsCreHousingAgainAppl_id);    }    /**     * Description : 新增记录     *      * @param bean     * @return "success" or "error" or user defined     * @author administrator     */    @RequestMapping(value = "/cremanage/WmsCreHousingAgainApplSave.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public String doSave(HttpServletRequest request, WmsCreHousingAgainAppl bean) {        String result = "";        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        try {            result = wmscrehousingagainapplService.save(bean, user);        }        catch (Exception e) {            log.error(e.getMessage());            result = "error";        }        return result;    }    /**     * Description : 更新记录     *      * @param bean     * @return "success" or "error" or user defined     * @author administrator     */    @RequestMapping(value = "/cremanage/WmsCreHousingAgainApplUpdate.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public String doUpdate(HttpServletRequest request, WmsCreHousingAgainAppl bean) {        String result = "";        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        try {            result = wmscrehousingagainapplService.update(bean, user);        }        catch (Exception e) {            log.error(e.getMessage());            result = "error";        }        return result;    }        /**	 * 复议申请详细页面初始化	 */    @RequestMapping(value = "/cremanage/reviewRevisionOfHousingDisp.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public Map<String, Object> reviewRevisionOfHousingDisp(HttpServletRequest request, WmsCreHousingAgainApplSearchBeanVO queryInfo) {        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        Map<String, Object> resMap = new HashMap<String, Object>();        try {        	resMap = wmscrehousingagainapplService.reviewRevisionOfHousingDisp(queryInfo, user);        }        catch (Exception e) {            log.error(e.getMessage());        }        return resMap;    }        /**	 * 复议申请详细页保存	 */    @RequestMapping(value = "/cremanage/reviewRevisionOfHousingSave.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public String reviewRevisionOfHousingSave(HttpServletRequest request, WmsCreHousingAgainApplSearchBeanVO queryInfo) {    	String result = "success";        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        try {            result = wmscrehousingagainapplService.reviewRevisionOfHousingSave(queryInfo, user);        }        catch (Exception e) {        	result = "error";            log.error(e.getMessage());        }        return result;    }    }