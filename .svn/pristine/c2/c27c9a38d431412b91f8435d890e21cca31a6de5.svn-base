<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace必须指向Dao接口 -->
<mapper
	namespace="com.zx.emanage.cremanage.persist.WmsCreCreditLineCustomerChangeHeadDao">
	<insert id="saveWithKey" parameterType="WmsCreCreditLineCustomerChangeHead"
		useGeneratedKeys="true" keyProperty="wms_cre_credit_line_customer_change_head_id">

		insert into
		wms_cre_credit_line_customer_change_head
		(
		wms_cre_credit_line_customer_change_head_id,
		wms_cre_credit_head_id,
		wms_cus_customer_head_id,
		customer_code,
		customer_name,
		customer_ever_name,
		customer_category,
		gender,
		max_degree,
		birthday,
		id_card,
		province,
		city,
		district,
		address_more,
		has_children,
		children_name,
		children_address,
		children_telephone,
		has_married,
		has_house,
		current_address_province,
		current_address_city,
		current_address_district,
		current_address_more,
		post_code,
		fixed_telephone,
		mobile_telephone1,
		service_password1,
		mobile_telephone2,
		service_password2,
		personal_year_income,
		customer_email,
		credit_card_limit,
		common_occupants,
		status,
		create_user_id,
		create_user_name,
		create_timestamp,
		last_update_user_id,
		last_update_timestamp,
		enable_flag,
		is_major,work_stat,house_stat,residence_time,cre_card_num,existing_loan,monthly_income,
		resource_of_tel1,resource_of_tel2,is_real_name_tel1,is_real_name_tel2,real_name_tel1,real_name_rela1,real_name_tel2,real_name_rela2,
		customer_age
		)
		values(
		#{wms_cre_credit_line_customer_change_head_id},
		#{wms_cre_credit_head_id},
		#{wms_cus_customer_head_id},
		#{customer_code},
		#{customer_name},
		#{customer_ever_name},
		#{customer_category},
		#{gender},
		#{max_degree},
		#{birthday},
		#{id_card},
		#{province},
		#{city},
		#{district},
		#{address_more},
		#{has_children},
		#{children_name},
		#{children_address},
		#{children_telephone},
		#{has_married},
		#{has_house},
		#{current_address_province},
		#{current_address_city},
		#{current_address_district},
		#{current_address_more},
		#{post_code},
		#{fixed_telephone},
		#{mobile_telephone1},
		#{service_password1},
		#{mobile_telephone2},
		#{service_password2},
		#{personal_year_income},
		#{customer_email},
		#{credit_card_limit},
		#{common_occupants},
		#{status},
		#{create_user_id},
		#{create_user_name},
		#{create_timestamp},
		#{last_update_user_id},
		#{last_update_timestamp},
		#{enable_flag},
		#{is_major},#{work_stat},#{house_stat},#{residence_time},#{cre_card_num},#{existing_loan},#{monthly_income},
		#{resource_of_tel1},#{resource_of_tel2},#{is_real_name_tel1},#{is_real_name_tel2},#{real_name_tel1},#{real_name_rela1},#{real_name_tel2},#{real_name_rela2},
		#{customer_age}
		)
	</insert>
	<insert id="save" parameterType="WmsCreCreditLineCustomerChangeHead"
		useGeneratedKeys="true" keyProperty="wms_cre_credit_line_customer_change_head_id">

		insert into
		wms_cre_credit_line_customer_change_head
		(
		wms_cre_credit_line_customer_change_head_id,
		wms_cre_credit_head_id,
		wms_cus_customer_head_id,
		customer_code,
		customer_name,
		customer_ever_name,
		customer_category,
		gender,
		max_degree,
		birthday,
		id_card,
		province,
		city,
		district,
		address_more,
		has_children,
		children_name,
		children_address,
		children_telephone,
		has_married,
		has_house,
		current_address_province,
		current_address_city,
		current_address_district,
		current_address_more,
		post_code,
		fixed_telephone,
		mobile_telephone1,
		service_password1,
		mobile_telephone2,
		service_password2,
		personal_year_income,
		customer_email,
		credit_card_limit,
		common_occupants,
		status,
		create_user_id,
		create_user_name,
		create_timestamp,
		last_update_user_id,
		last_update_timestamp,
		enable_flag,
		is_major,work_stat,house_stat,residence_time,cre_card_num,existing_loan,monthly_income,
		resource_of_tel1,resource_of_tel2,is_real_name_tel1,is_real_name_tel2,real_name_tel1,real_name_rela1,real_name_tel2,real_name_rela2,
		customer_age,
		is_finish
		)
		values(
		#{wms_cre_credit_line_customer_change_head_id},
		#{wms_cre_credit_head_id},
		#{wms_cus_customer_head_id},
		#{customer_code},
		#{customer_name},
		#{customer_ever_name},
		#{customer_category},
		#{gender},
		#{max_degree},
		#{birthday},
		#{id_card},
		#{province},
		#{city},
		#{district},
		#{address_more},
		#{has_children},
		#{children_name},
		#{children_address},
		#{children_telephone},
		#{has_married},
		#{has_house},
		#{current_address_province},
		#{current_address_city},
		#{current_address_district},
		#{current_address_more},
		#{post_code},
		#{fixed_telephone},
		#{mobile_telephone1},
		#{service_password1},
		#{mobile_telephone2},
		#{service_password2},
		#{personal_year_income},
		#{customer_email},
		#{credit_card_limit},
		#{common_occupants},
		#{status},
		#{create_user_id},
		#{create_user_name},
		#{create_timestamp},
		#{last_update_user_id},
		#{last_update_timestamp},
		#{enable_flag},
		#{is_major},#{work_stat},#{house_stat},#{residence_time},#{cre_card_num},#{existing_loan},#{monthly_income},
		#{resource_of_tel1},#{resource_of_tel2},#{is_real_name_tel1},#{is_real_name_tel2},#{real_name_tel1},#{real_name_rela1},#{real_name_tel2},#{real_name_rela2},
		#{customer_age},
		#{is_finish}
		)
	</insert>
	
	<insert id="update" parameterType="WmsCreCreditLineCustomerChangeHead">
        update
            wms_cre_credit_line_customer_change_head
        <set>
            <if test="wms_cre_credit_line_customer_change_head_id != null">
                wms_cre_credit_line_customer_change_head_id = #{wms_cre_credit_line_customer_change_head_id},
            </if>
            <if test="wms_cre_credit_head_id != null">
                wms_cre_credit_head_id = #{wms_cre_credit_head_id},
            </if>
            <if test="wms_cus_customer_head_id != null">
                wms_cus_customer_head_id = #{wms_cus_customer_head_id},
            </if>
            <if test="customer_code != null">
                customer_code = #{customer_code},
            </if>
            <if test="customer_name != null">
                customer_name = #{customer_name},
            </if>
            <if test="customer_ever_name != null">
                customer_ever_name = #{customer_ever_name},
            </if>
            <if test="customer_category != null">
                customer_category = #{customer_category},
            </if>
            <if test="gender != null">
                gender = #{gender},
            </if>
            <if test="max_degree != null">
                max_degree = #{max_degree},
            </if>
            <if test="birthday != null">
                birthday = #{birthday},
            </if>
            <if test="id_card != null">
                id_card = #{id_card},
            </if>
            <if test="province != null">
                province = #{province},
            </if>
            <if test="city != null">
                city = #{city},
            </if>
            <if test="district != null">
                district = #{district},
            </if>
            <if test="address_more != null">
                address_more = #{address_more},
            </if>
            <if test="has_children != null">
                has_children = #{has_children},
            </if>
            <if test="children_name != null">
                children_name = #{children_name},
            </if>
            <if test="children_address != null">
                children_address = #{children_address},
            </if>
            <if test="children_telephone != null">
                children_telephone = #{children_telephone},
            </if>
            <if test="has_married != null">
                has_married = #{has_married},
            </if>
            <if test="has_house != null">
                has_house = #{has_house},
            </if>
            <if test="current_address_province != null">
                current_address_province = #{current_address_province},
            </if>
            <if test="current_address_city != null">
                current_address_city = #{current_address_city},
            </if>
            <if test="current_address_district != null">
                current_address_district = #{current_address_district},
            </if>
            <if test="current_address_more != null">
                current_address_more = #{current_address_more},
            </if>
            <if test="post_code != null">
                post_code = #{post_code},
            </if>
            <if test="fixed_telephone != null">
                fixed_telephone = #{fixed_telephone},
            </if>
            <if test="mobile_telephone1 != null">
                mobile_telephone1 = #{mobile_telephone1},
            </if>
            <if test="service_password1 != null">
                service_password1 = #{service_password1},
            </if>
            <if test="mobile_telephone2 != null">
                mobile_telephone2 = #{mobile_telephone2},
            </if>
            <if test="service_password2 != null">
                service_password2 = #{service_password2},
            </if>
            <if test="personal_year_income != null">
                personal_year_income = #{personal_year_income},
            </if>
            <if test="customer_email != null">
                customer_email = #{customer_email},
            </if>
            <if test="credit_card_limit != null">
                credit_card_limit = #{credit_card_limit},
            </if>
            <if test="common_occupants != null">
                common_occupants = #{common_occupants},
            </if>
            <if test="status != null">
                status = #{status},
            </if>
            <if test="create_user_id != null">
                create_user_id = #{create_user_id},
            </if>
            <if test="create_user_name != null">
                create_user_name = #{create_user_name},
            </if>
            <if test="create_timestamp != null">
                create_timestamp = #{create_timestamp},
            </if>
            <if test="last_update_user_id != null">
                last_update_user_id = #{last_update_user_id},
            </if>
            <if test="last_update_timestamp != null">
                last_update_timestamp = #{last_update_timestamp},
            </if>
            <if test="enable_flag != null">
                enable_flag = #{enable_flag},
            </if>
            <if test="is_major != null">
                is_major = #{is_major},
            </if>
            <if test="work_stat != null">
                work_stat = #{work_stat},
            </if>
            <if test="house_stat != null">
                house_stat = #{house_stat},
            </if>
            <if test="residence_time != null">
                residence_time = #{residence_time},
            </if>
            <if test="cre_card_num != null">
                cre_card_num = #{cre_card_num},
            </if>
            <if test="existing_loan != null">
                existing_loan = #{existing_loan},
            </if>
            <if test="monthly_income != null">
                monthly_income = #{monthly_income},
            </if>
            <if test="resource_of_tel1 != null">
                resource_of_tel1 = #{resource_of_tel1},
            </if>
            <if test="resource_of_tel2 != null">
                resource_of_tel2 = #{resource_of_tel2},
            </if>
            <if test="is_real_name_tel1 != null">
                is_real_name_tel1 = #{is_real_name_tel1},
            </if>
            <if test="is_real_name_tel2 != null">
                is_real_name_tel2 = #{is_real_name_tel2},
            </if>
            <if test="real_name_tel1 != null">
                real_name_tel1 = #{real_name_tel1},
            </if>
            <if test="real_name_rela1 != null">
                real_name_rela1 = #{real_name_rela1},
            </if>
            <if test="real_name_tel2 != null">
                real_name_tel2 = #{real_name_tel2},
            </if>
            <if test="real_name_rela2 != null">
                real_name_rela2 = #{real_name_rela2},
            </if>
             <if test="is_finish != null">
                is_finish = #{is_finish},
            </if>
        </set>
        where wms_cre_credit_line_customer_change_head_id = #{wms_cre_credit_line_customer_change_head_id}
    </insert>
	
	<!-- 实现信息审批带出主带人的电话号码 -->
	<select id="searchbyPhone" parameterType="map" resultType="java.util.HashMap">
		select
		wms_cre_credit_line_customer_change_head_id,
		wms_cre_credit_head_id,
		wms_cus_customer_head_id,
		mobile_telephone1,
		mobile_telephone2
		from wms_cre_credit_line_customer_change_head
		<where>
			enable_flag=1
			<if test="wms_cre_credit_head_id!=null">
				and wms_cre_credit_head_id = #{wms_cre_credit_head_id}
			</if>
		</where>
	</select>
	<!-- 实现信息审批审批带出贷款人的所有电话记录列表 -->
	<select id="searchByTel" parameterType="map" resultType="java.util.HashMap">
		select
		wms_cre_credit_line_customer_change_head_id,
		wms_cre_credit_head_id,
		wms_cus_customer_head_id,
		mobile_telephone1,
		mobile_telephone2
		from wms_cre_credit_line_customer_change_head
		<where>
			enable_flag=1
			<if test="wms_cre_credit_head_id!=null">
				and wms_cre_credit_head_id = #{wms_cre_credit_head_id}
			</if>
		</where>
	</select>
	<select id="search" parameterType="map" resultType="java.util.HashMap">
		select
		wms_cre_credit_line_customer_change_head_id,
		wms_cre_credit_head_id,
		wms_cus_customer_head_id,
		is_major,
		customer_code,
		customer_name,
		customer_ever_name,
		customer_category,
		gender,
		max_degree,
		date_format(birthday,'%Y-%m-%d') as birthday,
		id_card,
		province,
		city,
		district,
		address_more,
		has_children,
		children_name,
		children_address,
		children_telephone,
		has_married,
		has_house,
		current_address_province,
		current_address_city,
		current_address_district,
		current_address_more,
		post_code,
		fixed_telephone,
		mobile_telephone1,
		service_password1,
		mobile_telephone2,
		service_password2,
		personal_year_income,
		customer_email,
		credit_card_limit,
		common_occupants,
		status,
		create_user_id,
		create_user_name,
		date_format(create_timestamp,'%Y-%m-%d %H:%i:%s') as create_timestamp,
		last_update_user_id,
		date_format(last_update_timestamp,'%Y-%m-%d %H:%i:%s') as last_update_timestamp,
		enable_flag,work_stat,house_stat,residence_time,cre_card_num,existing_loan,monthly_income,
		resource_of_tel1,resource_of_tel2,is_real_name_tel1,is_real_name_tel2,real_name_tel1,real_name_rela1,real_name_tel2,real_name_rela2
		from wms_cre_credit_line_customer_change_head
		<where>
			enable_flag=1
			<if test="wms_cre_credit_head_id!=null">
				and wms_cre_credit_head_id = #{wms_cre_credit_head_id}
			</if>
			<if test="wms_cre_credit_line_customer_change_head_id!=null">
				and wms_cre_credit_line_customer_change_head_id =
				#{wms_cre_credit_line_customer_change_head_id}
			</if>
		</where>
		<if test="sortname!=null and sortorder!=null">
			order by ${sortname} ${sortorder}
		</if>
	</select>
	<select id="searchForDiff" parameterType="map" resultType="java.util.HashMap">
		select
		wms_cre_credit_line_customer_change_head_id,
		wms_cre_credit_head_id,
		wms_cus_customer_head_id,
		is_major,
		customer_code,
		customer_name,
		customer_ever_name,
		customer_category,
		gender,
		max_degree,
		date_format(birthday,'%Y-%m-%d') as birthday,
		id_card,
		province,
		city,
		district,
		address_more,
		has_children,
		children_name,
		children_address,
		children_telephone,
		has_married,
		has_house,
		current_address_province,
		current_address_city,
		current_address_district,
		current_address_more,
		post_code,
		fixed_telephone,
		mobile_telephone1,
		service_password1,
		mobile_telephone2,
		service_password2,
		personal_year_income,
		customer_email,
		credit_card_limit,
		common_occupants,
		status,
		create_user_id,
		create_user_name,
		date_format(create_timestamp,'%Y-%m-%d %H:%i:%s') as create_timestamp,
		last_update_user_id,
		date_format(last_update_timestamp,'%Y-%m-%d %H:%i:%s') as last_update_timestamp,
		enable_flag,work_stat,house_stat,residence_time,cre_card_num,existing_loan,monthly_income,
		resource_of_tel1,resource_of_tel2,is_real_name_tel1,is_real_name_tel2,real_name_tel1,real_name_rela1,real_name_tel2,real_name_rela2
		from wms_cre_credit_line_customer_change_head
		<where>
			enable_flag=1
			<if test="id_card != null">
				and id_card = #{id_card} and wms_cre_credit_head_id !=
				#{wms_cre_credit_head_id}
			</if>
			<if test="mobile_telephone1 != null or mobile_telephone2 !=null">
				and (mobile_telephone1 = #{mobile_telephone1} or mobile_telephone1 =
				#{mobile_telephone2}
				or (mobile_telephone2 = #{mobile_telephone1} and mobile_telephone2 !=
				'无' and mobile_telephone2 != '没有')
				or (mobile_telephone2 =
				#{mobile_telephone2} and mobile_telephone2 != '无' and
				mobile_telephone2 != '没有'))
				and wms_cre_credit_head_id !=
				#{wms_cre_credit_head_id}
			</if>
			<if test="contact_mobile_phone != null">
				and (mobile_telephone1 = #{contact_mobile_phone}
				or mobile_telephone2 =
				#{contact_mobile_phone})
				and wms_cre_credit_head_id !=
				#{wms_cre_credit_head_id}
			</if>
		</where>
	</select>
	<!-- 获取WmsCreCreditLineCustomerChangeHead -->
	<select id="get" parameterType="Integer"
		resultType="WmsCreCreditLineCustomerChangeHead">
		select
		wms_cre_credit_line_customer_change_head_id,
		wms_cre_credit_head_id,
		wms_cus_customer_head_id,
		customer_code,
		is_major,
		customer_name,
		customer_ever_name,
		customer_category,
		gender,
		max_degree,
		date_format(birthday,'%Y-%m-%d') as birthday,
		id_card,
		province,
		city,
		district,
		address_more,
		has_children,
		children_name,
		children_address,
		children_telephone,
		has_married,
		has_house,
		current_address_province,
		current_address_city,
		current_address_district,
		current_address_more,
		post_code,
		fixed_telephone,
		mobile_telephone1,
		service_password1,
		mobile_telephone2,
		service_password2,
		personal_year_income,
		customer_email,
		credit_card_limit,
		common_occupants,
		status,
		create_user_id,
		create_user_name,
		date_format(create_timestamp,'%Y-%m-%d %H:%i:%s') as create_timestamp,
		last_update_user_id,
		date_format(last_update_timestamp,'%Y-%m-%d %H:%i:%s') as last_update_timestamp,
		enable_flag,work_stat,house_stat,residence_time,cre_card_num,existing_loan,monthly_income,
		resource_of_tel1,resource_of_tel2,is_real_name_tel1,is_real_name_tel2,real_name_tel1,real_name_rela1,real_name_tel2,real_name_rela2
		from wms_cre_credit_line_customer_change_head
		where
		wms_cre_credit_line_customer_change_head_id=#{wms_cre_credit_line_customer_change_head_id}
	</select>


	<select id="searchforborrow" parameterType="int" resultType="java.util.HashMap">
		select
		wms_cre_credit_line_customer_change_head_id,
		wms_cre_credit_head_id,
		wms_cus_customer_head_id,
		is_major,
		customer_code,
		customer_name,
		customer_ever_name,
		customer_category,
		gender,
		max_degree,
		date_format(birthday,'%Y-%m-%d') as birthday,
		id_card,
		province,
		city,
		district,
		address_more,
		has_children,
		children_name,
		children_address,
		children_telephone,
		has_married,
		has_house,
		current_address_province,
		current_address_city,
		current_address_district,
		current_address_more,
		post_code,
		fixed_telephone,
		mobile_telephone1,
		service_password1,
		mobile_telephone2,
		service_password2,
		personal_year_income,
		customer_email,
		credit_card_limit,
		common_occupants,
		status,
		create_user_id,
		create_user_name,
		date_format(create_timestamp,'%Y-%m-%d %H:%i:%s') as create_timestamp,
		last_update_user_id,
		date_format(last_update_timestamp,'%Y-%m-%d %H:%i:%s') as last_update_timestamp,
		enable_flag,work_stat,house_stat,residence_time,cre_card_num,existing_loan,monthly_income,
		resource_of_tel1,resource_of_tel2,is_real_name_tel1,is_real_name_tel2,real_name_tel1,real_name_rela1,real_name_tel2,real_name_rela2
		from wms_cre_credit_line_customer_change_head
		<where>
			enable_flag=1 and is_major='0'
			and wms_cre_credit_head_id = #{wms_cre_credit_head_id}
		</where>

	</select>
	<select id="getWmsCreCreditLineCustomerChangeHeadListWithoutPaging"
		parameterType="int" resultType="WmsCreCreditLineCustomerChangeHead">
		select
		wms_cre_credit_line_customer_change_head_id,
		wms_cre_credit_head_id,
		wms_cus_customer_head_id,
		is_major,
		customer_code,
		customer_name,
		customer_ever_name,
		customer_category,
		gender,
		max_degree,
		date_format(birthday,'%Y-%m-%d') as birthday,
		id_card,
		province,
		city,
		district,
		address_more,
		has_children,
		children_name,
		children_address,
		children_telephone,
		has_married,
		has_house,
		current_address_province,
		current_address_city,
		current_address_district,
		current_address_more,
		post_code,
		fixed_telephone,
		mobile_telephone1,
		service_password1,
		mobile_telephone2,
		service_password2,
		personal_year_income,
		customer_email,
		credit_card_limit,
		common_occupants,
		status,
		create_user_id,
		create_user_name,
		date_format(create_timestamp,'%Y-%m-%d %H:%i:%s') as create_timestamp,
		last_update_user_id,
		date_format(last_update_timestamp,'%Y-%m-%d %H:%i:%s') as last_update_timestamp,
		enable_flag,work_stat,house_stat,residence_time,cre_card_num,existing_loan,monthly_income,
		resource_of_tel1,resource_of_tel2,is_real_name_tel1,is_real_name_tel2,real_name_tel1,real_name_rela1,real_name_tel2,real_name_rela2
		from wms_cre_credit_line_customer_change_head
		<where>
			enable_flag=1 and wms_cre_credit_head_id = #{wms_cre_credit_head_id}
		</where>
	</select>
	<delete id="deleteByMap" parameterType="map">
		delete from wms_cre_credit_line_customer_change_head
		<where>
			<if test="dltIDArr !=null">
				and wms_cre_credit_line_customer_change_head_id in
				<foreach collection="dltIDArr"
					item="wms_cre_credit_line_customer_change_head_id" index="index"
					open="(" separator="," close=")">
					#{wms_cre_credit_line_customer_change_head_id}
				</foreach>
			</if>
		</where>
	</delete>
	<!-- 更新 -->
	<update id="updateIsMajor" parameterType="map">
		update wms_cre_credit_line_customer_change_head
		<set>
			<if test="is_major != null">
				is_major=#{is_major},
			</if>
		</set>
		where wms_cre_credit_line_customer_change_head_id =
		#{wms_cre_credit_line_customer_change_head_id}
	</update>
	<select id="getMainByFk" parameterType="Integer"
		resultType="WmsCreCreditLineCustomerChangeHead">
		select
		wms_cre_credit_line_customer_change_head_id,
		wms_cre_credit_head_id,
		wms_cus_customer_head_id,
		customer_code,
		is_major,
		customer_name,
		customer_ever_name,
		customer_category,
		gender,
		max_degree,
		date_format(birthday,'%Y-%m-%d') as birthday,
		id_card,
		province,
		city,
		district,
		address_more,
		has_children,
		children_name,
		children_address,
		children_telephone,
		has_married,
		has_house,
		current_address_province,
		current_address_city,
		current_address_district,
		current_address_more,
		post_code,
		fixed_telephone,
		mobile_telephone1,
		service_password1,
		mobile_telephone2,
		service_password2,
		personal_year_income,
		customer_email,
		credit_card_limit,
		common_occupants,
		status,
		create_user_id,
		create_user_name,
		date_format(create_timestamp,'%Y-%m-%d %H:%i:%s') as create_timestamp,
		last_update_user_id,
		date_format(last_update_timestamp,'%Y-%m-%d %H:%i:%s') as last_update_timestamp,
		enable_flag,work_stat,house_stat,residence_time,cre_card_num,existing_loan,monthly_income,
		resource_of_tel1,resource_of_tel2,is_real_name_tel1,is_real_name_tel2,real_name_tel1,real_name_rela1,real_name_tel2,real_name_rela2
		from wms_cre_credit_line_customer_change_head
		where enable_flag='1' and
		wms_cre_credit_head_id=#{wms_cre_credit_head_id} and is_major='1'
		
		order by wms_cre_credit_line_customer_change_head_id desc limit 0, 1
	</select>
	<select id="getNotMainByFk" parameterType="Integer"
		resultType="WmsCreCreditLineCustomerChangeHead">
		select
		wms_cre_credit_line_customer_change_head_id,
		wms_cre_credit_head_id,
		wms_cus_customer_head_id,
		customer_code,
		is_major,
		customer_name,
		customer_ever_name,
		customer_category,
		gender,
		max_degree,
		date_format(birthday,'%Y-%m-%d') as birthday,
		id_card,
		province,
		city,
		district,
		address_more,
		has_children,
		children_name,
		children_address,
		children_telephone,
		has_married,
		has_house,
		current_address_province,
		current_address_city,
		current_address_district,
		current_address_more,
		post_code,
		fixed_telephone,
		mobile_telephone1,
		service_password1,
		mobile_telephone2,
		service_password2,
		personal_year_income,
		customer_email,
		credit_card_limit,
		common_occupants,
		status,
		create_user_id,
		create_user_name,
		date_format(create_timestamp,'%Y-%m-%d %H:%i:%s') as create_timestamp,
		last_update_user_id,
		date_format(last_update_timestamp,'%Y-%m-%d %H:%i:%s') as last_update_timestamp,
		enable_flag,work_stat,house_stat,residence_time,cre_card_num,existing_loan,monthly_income,
		resource_of_tel1,resource_of_tel2,is_real_name_tel1,is_real_name_tel2,real_name_tel1,real_name_rela1,real_name_tel2,real_name_rela2
		from wms_cre_credit_line_customer_change_head
		where enable_flag='1' and
		wms_cre_credit_head_id=#{wms_cre_credit_head_id} and is_major!='1'
	</select>
	<select id="selectScoreInfo" parameterType="int"
		resultType="WmsCreCreditLineCustomerChangeHead">
		select
		wms_cre_credit_line_customer_change_head_id,
		gender,
		max_degree,
		birthday,
		has_children,
		has_married
		from wms_cre_credit_line_customer_change_head
		where enable_flag=1 and
		wms_cre_credit_head_id = #{wms_cre_credit_head_id} and is_major=1
	</select>
	<!-- 获取贷款人个数 -->
	<select id="getCount" parameterType="int" resultType="int">
		select
		count(wms_cre_credit_line_customer_change_head_id)
		from
		wms_cre_credit_line_customer_change_head
		where enable_flag=1 and
		wms_cre_credit_head_id = #{wms_cre_credit_head_id}
	</select>
	<select id="getListByEntity" parameterType="WmsCreCreditLineCustomerChangeHead" resultType="WmsCreCreditLineCustomerChangeHead">
		select 
				wms_cre_credit_line_customer_change_head_id,
				wms_cre_credit_head_id,
				wms_cus_customer_head_id,
				customer_code,
				customer_name,
				customer_ever_name,
				customer_category,
				gender,
				max_degree,
				date_format(birthday,'%Y-%m-%d') as birthday_str,
				birthday,
				id_card,
				province,
				city,
				district,
				address_more,
				has_children,
				children_name,
				children_address,
				children_telephone,
				has_married,
				has_house,
				current_address_province,
				current_address_city,
				current_address_district,
				current_address_more,
				post_code,
				fixed_telephone,
				mobile_telephone1,
				service_password1,
				mobile_telephone2,
				service_password2,
				personal_year_income,
				customer_email,
				credit_card_limit,
				common_occupants,
				status,
				create_user_id,
				create_user_name,
				date_format(create_timestamp,'%Y-%m-%d %H:%i:%s') as create_timestamp_str,
				create_timestamp,
				last_update_user_id,
				date_format(last_update_timestamp,'%Y-%m-%d %H:%i:%s') as last_update_timestamp_str,
				last_update_timestamp,
				enable_flag,
				is_major,
				work_stat,
				house_stat,
				residence_time,
				cre_card_num,
				existing_loan,
				monthly_income,
				resource_of_tel1,
				resource_of_tel2,
				is_real_name_tel1,
				is_real_name_tel2,
				real_name_tel1,
				real_name_rela1,
				real_name_tel2,
				real_name_rela2
		from
		wms_cre_credit_line_customer_change_head
		<where>
					<if test="wms_cre_credit_line_customer_change_head_id != null">
						and wms_cre_credit_line_customer_change_head_id = #{wms_cre_credit_line_customer_change_head_id}
					</if>
					<if test="wms_cre_credit_head_id != null">
						and wms_cre_credit_head_id = #{wms_cre_credit_head_id}
					</if>
					<if test="wms_cus_customer_head_id != null">
						and wms_cus_customer_head_id = #{wms_cus_customer_head_id}
					</if>
					<if test="customer_code != null">
						and customer_code = #{customer_code}
					</if>
					<if test="customer_name != null">
						and customer_name = #{customer_name}
					</if>
					<if test="customer_ever_name != null">
						and customer_ever_name = #{customer_ever_name}
					</if>
					<if test="customer_category != null">
						and customer_category = #{customer_category}
					</if>
					<if test="gender != null">
						and gender = #{gender}
					</if>
					<if test="max_degree != null">
						and max_degree = #{max_degree}
					</if>
					<if test="birthday != null">
						and birthday = #{birthday}
					</if>
					<if test="id_card != null">
						and id_card = #{id_card}
					</if>
					<if test="province != null">
						and province = #{province}
					</if>
					<if test="city != null">
						and city = #{city}
					</if>
					<if test="district != null">
						and district = #{district}
					</if>
					<if test="address_more != null">
						and address_more = #{address_more}
					</if>
					<if test="has_children != null">
						and has_children = #{has_children}
					</if>
					<if test="children_name != null">
						and children_name = #{children_name}
					</if>
					<if test="children_address != null">
						and children_address = #{children_address}
					</if>
					<if test="children_telephone != null">
						and children_telephone = #{children_telephone}
					</if>
					<if test="has_married != null">
						and has_married = #{has_married}
					</if>
					<if test="has_house != null">
						and has_house = #{has_house}
					</if>
					<if test="current_address_province != null">
						and current_address_province = #{current_address_province}
					</if>
					<if test="current_address_city != null">
						and current_address_city = #{current_address_city}
					</if>
					<if test="current_address_district != null">
						and current_address_district = #{current_address_district}
					</if>
					<if test="current_address_more != null">
						and current_address_more = #{current_address_more}
					</if>
					<if test="post_code != null">
						and post_code = #{post_code}
					</if>
					<if test="fixed_telephone != null">
						and fixed_telephone = #{fixed_telephone}
					</if>
					<if test="mobile_telephone1 != null">
						and mobile_telephone1 = #{mobile_telephone1}
					</if>
					<if test="service_password1 != null">
						and service_password1 = #{service_password1}
					</if>
					<if test="mobile_telephone2 != null">
						and mobile_telephone2 = #{mobile_telephone2}
					</if>
					<if test="service_password2 != null">
						and service_password2 = #{service_password2}
					</if>
					<if test="personal_year_income != null">
						and personal_year_income = #{personal_year_income}
					</if>
					<if test="customer_email != null">
						and customer_email = #{customer_email}
					</if>
					<if test="credit_card_limit != null">
						and credit_card_limit = #{credit_card_limit}
					</if>
					<if test="common_occupants != null">
						and common_occupants = #{common_occupants}
					</if>
					<if test="status != null">
						and status = #{status}
					</if>
					<if test="create_user_id != null">
						and create_user_id = #{create_user_id}
					</if>
					<if test="create_user_name != null">
						and create_user_name = #{create_user_name}
					</if>
					<if test="create_timestamp != null">
						and create_timestamp = #{create_timestamp}
					</if>
					<if test="last_update_user_id != null">
						and last_update_user_id = #{last_update_user_id}
					</if>
					<if test="last_update_timestamp != null">
						and last_update_timestamp = #{last_update_timestamp}
					</if>
					<if test="enable_flag != null">
						and enable_flag = #{enable_flag}
					</if>
					<if test="is_major != null">
						and is_major = #{is_major}
					</if>
					<if test="work_stat != null">
						and work_stat = #{work_stat}
					</if>
					<if test="house_stat != null">
						and house_stat = #{house_stat}
					</if>
					<if test="residence_time != null">
						and residence_time = #{residence_time}
					</if>
					<if test="cre_card_num != null">
						and cre_card_num = #{cre_card_num}
					</if>
					<if test="existing_loan != null">
						and existing_loan = #{existing_loan}
					</if>
					<if test="monthly_income != null">
						and monthly_income = #{monthly_income}
					</if>
					<if test="resource_of_tel1 != null">
						and resource_of_tel1 = #{resource_of_tel1}
					</if>
					<if test="resource_of_tel2 != null">
						and resource_of_tel2 = #{resource_of_tel2}
					</if>
					<if test="is_real_name_tel1 != null">
						and is_real_name_tel1 = #{is_real_name_tel1}
					</if>
					<if test="is_real_name_tel2 != null">
						and is_real_name_tel2 = #{is_real_name_tel2}
					</if>
					<if test="real_name_tel1 != null">
						and real_name_tel1 = #{real_name_tel1}
					</if>
					<if test="real_name_rela1 != null">
						and real_name_rela1 = #{real_name_rela1}
					</if>
					<if test="real_name_tel2 != null">
						and real_name_tel2 = #{real_name_tel2}
					</if>
					<if test="real_name_rela2 != null">
						and real_name_rela2 = #{real_name_rela2}
					</if>
				 	<if test="isExcludePKFlag != null and isExcludePKFlag == true">
		        				and wms_cre_credit_line_customer_change_head_id != #{wms_cre_credit_line_customer_change_head_id}
					</if>
		</where>
	</select>
	
	<select id="getKeHuInfo" parameterType="Integer"
		resultType="WmsCreCreditLineCustomerChangeHead">
		select
		wms_cre_credit_line_customer_change_head_id,
		wms_cre_credit_head_id,
		wms_cus_customer_head_id,
		customer_code,
		is_major,
		customer_name,
		customer_ever_name,
		customer_category,
		gender,
		max_degree,
		date_format(birthday,'%Y-%m-%d') as birthday,
		id_card,
		province,
		city,
		district,
		address_more,
		has_children,
		children_name,
		children_address,
		children_telephone,
		has_married,
		has_house,
		current_address_province,
		current_address_city,
		current_address_district,
		current_address_more,
		post_code,
		fixed_telephone,
		mobile_telephone1,
		service_password1,
		mobile_telephone2,
		service_password2,
		personal_year_income,
		customer_email,
		credit_card_limit,
		common_occupants,
		status,
		create_user_id,
		create_user_name,
		date_format(create_timestamp,'%Y-%m-%d %H:%i:%s') as create_timestamp,
		last_update_user_id,
		date_format(last_update_timestamp,'%Y-%m-%d %H:%i:%s') as last_update_timestamp,
		enable_flag,work_stat,house_stat,residence_time,cre_card_num,existing_loan,monthly_income,
		resource_of_tel1,resource_of_tel2,is_real_name_tel1,is_real_name_tel2,real_name_tel1,real_name_rela1,real_name_tel2,real_name_rela2
		from wms_cre_credit_line_customer_change_head
		where
		enable_flag = '1' and
		is_major = '1' and
		wms_cre_credit_head_id=#{wms_cre_credit_head_id}
	</select>
	
	<!-- 根据客户id删除所有客户信息(逻辑删除) -->
	<update id="wmsCustomerAllInfoDelete" parameterType="Integer">
	    update wms_cre_credit_line_customer_change_head set enable_flag = '0' 
	     where wms_cre_credit_line_customer_change_head_id = #{wms_cre_credit_line_customer_change_head_id};
	     
        update wms_cus_customer_change_child set enable_flag = '0' 
         where wms_cre_credit_line_customer_change_head_id = #{wms_cre_credit_line_customer_change_head_id};
         
        update wms_cre_customer_change_line_houseinfo set enable_flag = '0' 
         where wms_cre_credit_line_customer_change_head_id = #{wms_cre_credit_line_customer_change_head_id};
         
        update wms_cre_customer_change_line_workinfo set enable_flag = '0' 
         where wms_cre_credit_line_customer_change_head_id = #{wms_cre_credit_line_customer_change_head_id};
         
        update wms_cre_customer_change_line_company set enable_flag = '0' 
         where wms_cre_credit_line_customer_change_head_id = #{wms_cre_credit_line_customer_change_head_id};
	</update>
	
	<!-- 修改客户信息时同步更新所有客户信息(没签合同的单据对应的客户信息变更表的信息) -->
	<update id="syncCustomerInfoForContract" parameterType="map">
	    UPDATE wms_cre_credit_line_customer_change_head a 
	     <set>
	         <if test="id_card != null">
	             a.id_card = #{id_card}, 
	         </if>
	         <if test="mobile_telephone1 != null">
                 a.mobile_telephone1 = #{mobile_telephone1},
             </if>
             <if test="current_address_province != null">
                 a.current_address_province = #{current_address_province},
             </if>
             <if test="current_address_city != null">
                 a.current_address_city = #{current_address_city},
             </if>
             <if test="current_address_district != null">
                 a.current_address_district = #{current_address_district},
             </if>
             <if test="current_address_more != null">
                 a.current_address_more = #{current_address_more},
             </if>
		 </set>      
         WHERE EXISTS (
             SELECT b.wms_cre_credit_head_id 
               FROM wms_cre_credit_head b 
              WHERE a.wms_cre_credit_head_id = b.wms_cre_credit_head_id 
                AND b.bill_status 
                 IN ('A', 'B', 'C', 'D', 'E', 'I', 'J', 'L')
         )
           AND a.wms_cus_customer_head_id = #{wms_cus_customer_head_id}
           AND NOT EXISTS (
               SELECT wms_cre_credit_head_id 
                 FROM wms_cre_appro_borrow_protocol c 
                WHERE a.wms_cre_credit_head_id = c.wms_cre_credit_head_id)
	</update>
	<select id="getKHXX" parameterType="Integer"
		resultType="com.zx.emanage.util.gen.vo.WmsCreCreditLineCustomerChangeHeadVO">
 SELECT
	k1.wms_cre_credit_head_id,
	k1.customer_name,
	k2.house_address_province,
	k2.house_address_city,
	k2.house_address_district,
	k2.house_address_more
FROM
	v_customer_houseinfo AS k2
left JOIN wms_cre_credit_line_customer_change_head AS k1 ON k1.wms_cre_credit_line_customer_change_head_id = k2.wms_cre_credit_line_customer_change_head_id
AND k1.is_major = 1 AND k2.enable_flag = 1
WHERE
	k1.wms_cre_credit_head_id = #{wms_cre_credit_head_id}
AND k1.enable_flag = 1 
	</select>
		<!-- 更新贷款申请补录信息 移动端第二版 -->
		<update id="updateforBLTwo" parameterType="WmsCreCreditLineCustomerChangeHead">
        update
            wms_cre_credit_line_customer_change_head
        <set>
            <if test="wms_cre_credit_line_customer_change_head_id != null">
                wms_cre_credit_line_customer_change_head_id = #{wms_cre_credit_line_customer_change_head_id},
            </if>
            <if test="wms_cre_credit_head_id != null">
                wms_cre_credit_head_id = #{wms_cre_credit_head_id},
            </if>
            <if test="wms_cus_customer_head_id != null">
                wms_cus_customer_head_id = #{wms_cus_customer_head_id},
            </if>
            <if test="customer_code != null">
                customer_code = #{customer_code},
            </if>
            <if test="customer_name != null">
                customer_name = #{customer_name},
            </if>
            <if test="customer_ever_name != null">
                customer_ever_name = #{customer_ever_name},
            </if>
            <if test="customer_category != null">
                customer_category = #{customer_category},
            </if>
            <if test="gender != null">
                gender = #{gender},
            </if>
            <if test="max_degree != null">
                max_degree = #{max_degree},
            </if>
            <if test="birthday != null">
                birthday = #{birthday},
            </if>
            <if test="id_card != null">
                id_card = #{id_card},
            </if>
            <if test="province != null">
                province = #{province},
            </if>
            <if test="city != null">
                city = #{city},
            </if>
            <if test="district != null">
                district = #{district},
            </if>
            <if test="address_more != null">
                address_more = #{address_more},
            </if>
            <if test="has_children != null">
                has_children = #{has_children},
            </if>
            <if test="children_name != null">
                children_name = #{children_name},
            </if>
            <if test="children_address != null">
                children_address = #{children_address},
            </if>
            <if test="children_telephone != null">
                children_telephone = #{children_telephone},
            </if>
            <if test="has_married != null">
                has_married = #{has_married},
            </if>
            <if test="has_house != null">
                has_house = #{has_house},
            </if>
            <if test="current_address_province != null">
                current_address_province = #{current_address_province},
            </if>
            <if test="current_address_city != null">
                current_address_city = #{current_address_city},
            </if>
            <if test="current_address_district != null">
                current_address_district = #{current_address_district},
            </if>
            <if test="current_address_more != null">
                current_address_more = #{current_address_more},
            </if>
            <if test="post_code != null">
                post_code = #{post_code},
            </if>
            <if test="fixed_telephone != null">
                fixed_telephone = #{fixed_telephone},
            </if>
            <if test="mobile_telephone1 != null">
                mobile_telephone1 = #{mobile_telephone1},
            </if>
            <if test="service_password1 != null">
                service_password1 = #{service_password1},
            </if>
            <if test="mobile_telephone2 != null">
                mobile_telephone2 = #{mobile_telephone2},
            </if>
            <if test="service_password2 != null">
                service_password2 = #{service_password2},
            </if>
            <if test="personal_year_income != null">
                personal_year_income = #{personal_year_income},
            </if>
            <if test="customer_email != null">
                customer_email = #{customer_email},
            </if>
            <if test="credit_card_limit != null">
                credit_card_limit = #{credit_card_limit},
            </if>
            <if test="common_occupants != null">
                common_occupants = #{common_occupants},
            </if>
            <if test="status != null">
                status = #{status},
            </if>
            <if test="create_user_id != null">
                create_user_id = #{create_user_id},
            </if>
            <if test="create_user_name != null">
                create_user_name = #{create_user_name},
            </if>
            <if test="create_timestamp != null">
                create_timestamp = #{create_timestamp},
            </if>
            <if test="last_update_user_id != null">
                last_update_user_id = #{last_update_user_id},
            </if>
            <if test="last_update_timestamp != null">
                last_update_timestamp = #{last_update_timestamp},
            </if>
            <if test="enable_flag != null">
                enable_flag = #{enable_flag},
            </if>
            <if test="work_stat != null">
                work_stat = #{work_stat},
            </if>
            <if test="house_stat != null">
                house_stat = #{house_stat},
            </if>
            <if test="residence_time != null">
                residence_time = #{residence_time},
            </if>
            <if test="cre_card_num != null">
                cre_card_num = #{cre_card_num},
            </if>
            <if test="existing_loan != null">
                existing_loan = #{existing_loan},
            </if>
            <if test="monthly_income != null">
                monthly_income = #{monthly_income},
            </if>
            <if test="resource_of_tel1 != null">
                resource_of_tel1 = #{resource_of_tel1},
            </if>
            <if test="resource_of_tel2 != null">
                resource_of_tel2 = #{resource_of_tel2},
            </if>
            <if test="is_real_name_tel1 != null">
                is_real_name_tel1 = #{is_real_name_tel1},
            </if>
            <if test="is_real_name_tel2 != null">
                is_real_name_tel2 = #{is_real_name_tel2},
            </if>
            <if test="real_name_tel1 != null">
                real_name_tel1 = #{real_name_tel1},
            </if>
            <if test="real_name_rela1 != null">
                real_name_rela1 = #{real_name_rela1},
            </if>
            <if test="real_name_tel2 != null">
                real_name_tel2 = #{real_name_tel2},
            </if>
            <if test="real_name_rela2 != null">
                real_name_rela2 = #{real_name_rela2},
            </if>
            <if test="customer_age != null">
                customer_age = #{customer_age},
            </if>
        </set>
        <where> 
         	<if test="wms_cre_credit_line_customer_change_head_id != null">
          	 and   wms_cre_credit_line_customer_change_head_id = #{wms_cre_credit_line_customer_change_head_id}
            </if>
            <if test="wms_cre_credit_head_id != null">
             and  wms_cre_credit_head_id = #{wms_cre_credit_head_id}
            </if>
            <if test="is_major != null">
             and  is_major = #{is_major}
            </if>
        </where>
    </update>
    <insert id="saveInfo" parameterType="WmsCreCreditLineCustomerChangeHead"
		useGeneratedKeys="true" keyProperty="wms_cre_credit_line_customer_change_head_id">

		insert into
		wms_cre_credit_line_customer_change_head
		(
		wms_cre_credit_line_customer_change_head_id,
		wms_cre_credit_head_id,
		wms_cus_customer_head_id,
		customer_code,
		customer_name,
		customer_ever_name,
		customer_category,
		gender,
		max_degree,
		birthday,
		id_card,
		province,
		city,
		district,
		address_more,
		has_children,
		children_name,
		children_address,
		children_telephone,
		has_married,
		has_house,
		current_address_province,
		current_address_city,
		current_address_district,
		current_address_more,
		post_code,
		fixed_telephone,
		mobile_telephone1,
		service_password1,
		mobile_telephone2,
		service_password2,
		personal_year_income,
		customer_email,
		credit_card_limit,
		common_occupants,
		status,
		create_user_id,
		create_user_name,
		create_timestamp,
		last_update_user_id,
		last_update_timestamp,
		enable_flag,
		is_major,
		work_stat,
		house_stat,
		residence_time,
		cre_card_num,
		existing_loan,
		monthly_income,
		resource_of_tel1,
		resource_of_tel2,
		is_real_name_tel1,
		is_real_name_tel2,
		real_name_tel1,
		real_name_rela1,
		real_name_tel2,
		real_name_rela2,
		customer_age
		)
		values(
		#{wms_cre_credit_line_customer_change_head_id},
		#{wms_cre_credit_head_id},
		#{wms_cus_customer_head_id},
		#{customer_code},
		#{customer_name},
		#{customer_ever_name},
		#{customer_category},
		#{gender},
		#{max_degree},
		#{birthday},
		#{id_card},
		#{province},
		#{city},
		#{district},
		#{address_more},
		#{has_children},
		#{children_name},
		#{children_address},
		#{children_telephone},
		#{has_married},
		#{has_house},
		#{current_address_province},
		#{current_address_city},
		#{current_address_district},
		#{current_address_more},
		#{post_code},
		#{fixed_telephone},
		#{mobile_telephone1},
		#{service_password1},
		#{mobile_telephone2},
		#{service_password2},
		#{personal_year_income},
		#{customer_email},
		#{credit_card_limit},
		#{common_occupants},
		#{status},
		#{create_user_id},
		#{create_user_name},
		#{create_timestamp},
		#{last_update_user_id},
		#{last_update_timestamp},
		#{enable_flag},
		#{is_major},
		#{work_stat},
		#{house_stat},
		#{residence_time},
		#{cre_card_num},
		#{existing_loan},
		#{monthly_income},
		#{resource_of_tel1},
		#{resource_of_tel2},
		#{is_real_name_tel1},
		#{is_real_name_tel2},
		#{real_name_tel1},
		#{real_name_rela1},
		#{real_name_tel2},
		#{real_name_rela2},
		#{customer_age}
		)
	</insert>
	
    <select id="getChangeHeadId" parameterType="int" resultType="WmsCreCreditLineCustomerChangeHead">
        select 
				wms_cre_credit_line_customer_change_head_id,
				wms_cre_credit_head_id,
				wms_cus_customer_head_id,
				customer_code,
				customer_name,
				customer_ever_name,
				customer_category,
				gender,
				max_degree,
				date_format(birthday,'%Y-%m-%d') as birthday_str,
				birthday,
				id_card,
				province,
				city,
				district,
				address_more,
				has_children,
				children_name,
				children_address,
				children_telephone,
				has_married,
				has_house,
				current_address_province,
				current_address_city,
				current_address_district,
				current_address_more,
				post_code,
				fixed_telephone,
				mobile_telephone1,
				service_password1,
				mobile_telephone2,
				service_password2,
				personal_year_income,
				customer_email,
				credit_card_limit,
				common_occupants,
				status,
				create_user_id,
				create_user_name,
				date_format(create_timestamp,'%Y-%m-%d %H:%i:%s') as create_timestamp_str,
				create_timestamp,
				last_update_user_id,
				date_format(last_update_timestamp,'%Y-%m-%d %H:%i:%s') as last_update_timestamp_str,
				last_update_timestamp,
				enable_flag,
				is_major,
				work_stat,
				house_stat,
				residence_time,
				cre_card_num,
				existing_loan,
				monthly_income,
				resource_of_tel1,
				resource_of_tel2,
				is_real_name_tel1,
				is_real_name_tel2,
				real_name_tel1,
				real_name_rela1,
				real_name_tel2,
				real_name_rela2
		from
			wms_cre_credit_line_customer_change_head
		where
			wms_cre_credit_head_id = #{wms_cre_credit_head_id}
			and is_major=1
    </select>
    <!-- 获取表信息 -->
	<select id="getCopyInfo" parameterType="Integer" resultType="WmsCreCreditLineCustomerChangeHead">
		select *
		from wms_cre_credit_line_customer_change_head
		where
		wms_cre_credit_head_id=#{wms_cre_credit_head_id}
		and enable_flag=1
	</select>
	<!-- 获取表信息 -->
	<select id="getInfoByHeadId" parameterType="map" resultType="WmsCreCreditLineCustomerChangeHead">
		select *
		from wms_cre_credit_line_customer_change_head
		<where>
			enable_flag=1
			<if test="wms_cre_credit_head_id != null">
				and wms_cre_credit_head_id = #{wms_cre_credit_head_id}
			</if>
			<if test="is_major != null">
				and is_major = #{is_major}
			</if>
		</where>
	</select>
</mapper> 
