package com.zx.emanage.telUserLoanInfo.service.impl;import java.util.HashMap;import java.util.Map;import java.util.List;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Transactional;import com.zx.emanage.telUserLoanInfo.persist.WmsCreCreditNotificationMessageDao;import com.zx.emanage.telUserLoanInfo.service.IWmsCreCreditNotificationMessageService;import com.zx.emanage.util.gen.entity.WmsCreCreditNotificationMessage;import com.zx.emanage.telUserLoanInfo.vo.WmsCreCreditNotificationMessageSearchBeanVO;import com.zx.platform.syscontext.vo.GridDataBean;import com.zx.sframe.util.vo.UserBean;/* * WmsCreCreditNotificationMessageService */@Service("WmsCreCreditNotificationMessageService")public class WmsCreCreditNotificationMessageServiceImpl implements IWmsCreCreditNotificationMessageService {    private static Logger log = LoggerFactory.getLogger(WmsCreCreditNotificationMessageServiceImpl.class);    @Autowired    private WmsCreCreditNotificationMessageDao wmscrecreditnotificationmessageDao;    /**     * Description : 获取结果集(不带分页)     *      * @param queryInfo     * @return record list     * @author administrator     */    @Override    public Map<String, Object> getListWithoutPaging(WmsCreCreditNotificationMessageSearchBeanVO queryInfo) {        Map<String, Object> paramMap = new HashMap<String, Object>();        paramMap.put("sortname", queryInfo.getSortname());        paramMap.put("sortorder", queryInfo.getSortorder());        List<Map<String, Object>> list = wmscrecreditnotificationmessageDao.search(paramMap);        Map<String, Object> resMap = new HashMap<String, Object>();        resMap.put("Rows", list);        return resMap;    }    /**     * Description : 获取结果集(带分页)     *      * @param queryInfo     * @return record list     * @author administrator     */    @Override    public Map<String, Object> getListWithPaging(WmsCreCreditNotificationMessageSearchBeanVO queryInfo) {        Map<String, Object> paramMap = new HashMap<String, Object>();        paramMap.put("sortname", queryInfo.getSortname());        paramMap.put("sortorder", queryInfo.getSortorder());        paramMap.put("pagesize", queryInfo.getPagesize());        paramMap.put("offset", queryInfo.getOffset());        List<Map<String, Object>> list = wmscrecreditnotificationmessageDao.search(paramMap);        GridDataBean<Map<String, Object>> bean =             new GridDataBean<Map<String, Object>>(queryInfo.getPage(), wmscrecreditnotificationmessageDao.findCount(paramMap), list);        return bean.getGridData();    }    /**     * Description : 通过主键获取结果     *      * @param primary key     * @return WmsCreCreditNotificationMessage     * @author administrator     */    @Override    public WmsCreCreditNotificationMessage getInfoByPK(Integer wms_cre_credit_notification_message_id) {        return wmscrecreditnotificationmessageDao.get(wms_cre_credit_notification_message_id);    }    /**     * Description : 新增记录     *      * @param bean     * @return "success" or "error" or user defined     * @author administrator     */    @Override    @Transactional    public String save(WmsCreCreditNotificationMessage bean, UserBean user) {        String resStr = "success";        int ret = 0;        ret = wmscrecreditnotificationmessageDao.save(bean);        if (ret == 0) {            resStr = "error";        }        return resStr;    }    /**     * Description : 更新记录     *      * @param bean contains pk at least     * @return "success" or "error" or user defined     * @author administrator     */    @Override    @Transactional    public String update(WmsCreCreditNotificationMessage bean, UserBean user) {        String resStr = "success";        int ret = 0;        ret = wmscrecreditnotificationmessageDao.update(bean); // update a record replace columns,                                                   // nonsupport null val        if (ret == 0) {            resStr = "error";        }        return resStr;    }    /**     * Description : 获取List<WmsCreCreditNotificationMessage>结果集     *      * @param queryInfo     * @param isExludePKFlag, true is exclude primary key, false is include     *            primary key     * @return "success" or "repeat"     * @author administrator     */    private List<WmsCreCreditNotificationMessage> getListByEntity(WmsCreCreditNotificationMessage queryInfo, Boolean isExcludePKFlag) {        Map<String, Object> paramMap = new HashMap<String, Object>();        paramMap.put("isExcludePKFlag", isExcludePKFlag);        String resStr = "success";        List<WmsCreCreditNotificationMessage> beanList = wmscrecreditnotificationmessageDao.getListByEntity(queryInfo);        return beanList;    }    	@Override	public void updateMessageFlag(Integer wms_cre_credit_notification_message_id) {				wmscrecreditnotificationmessageDao.updateMessageFlag(wms_cre_credit_notification_message_id);	}	@Override	public void updateMessageStatusForIsread(Integer user_id) {		wmscrecreditnotificationmessageDao.updateMessageStatus(user_id);	}    }