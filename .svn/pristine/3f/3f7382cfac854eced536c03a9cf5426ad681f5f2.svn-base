package com.zx.emanage.remind.web;import java.util.Map;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpSession;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import com.zx.emanage.remind.service.IWmsCreCreditRepayHistoryService;import com.zx.emanage.remind.vo.WmsCreCreditRepayHistorySearchBeanVO;import com.zx.emanage.util.gen.entity.WmsCreCreditRepayHistory;import com.zx.sframe.util.GlobalVal;import com.zx.sframe.util.vo.UserBean;/* * @author administrator */@Controllerpublic class WmsCreCreditRepayHistoryController {    private static Logger log = LoggerFactory.getLogger(WmsCreCreditRepayHistoryController.class);    @Autowired    private IWmsCreCreditRepayHistoryService wmscrecreditrepayhistoryService;    /**     * Description : 查询列表(不带分页)     *      * @param queryInfo     * @return record list     * @author administrator     */    @RequestMapping(value = "/remind/searchWmsCreCreditRepayHistorywithoutpaginglist.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public Map<String, Object> getListWithoutPaging(WmsCreCreditRepayHistorySearchBeanVO queryInfo) {        return wmscrecreditrepayhistoryService.getListWithoutPaging(queryInfo);    }    /**     * Description : 查询列表(带分页)     *      * @param queryInfo     * @return record list     * @author administrator     */    @RequestMapping(value = "/remind/searchWmsCreCreditRepayHistorywithpaginglist.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public Map<String, Object> getListWithPaging(WmsCreCreditRepayHistorySearchBeanVO queryInfo) {        return wmscrecreditrepayhistoryService.getListWithPaging(queryInfo);    }    /**     * Description : 根据主键查询     *      * @param primary key     * @return WmsCreCreditRepayHistoryVO     * @author administrator     */    @RequestMapping(value = "/remind/WmsCreCreditRepayHistorygetinfobypk.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public WmsCreCreditRepayHistory getInfoByPK(Integer WmsCreCreditRepayHistory_id) {        return wmscrecreditrepayhistoryService.getInfoByPK(WmsCreCreditRepayHistory_id);    }    /**     * Description : 新增     *      * @param bean     * @return "success" or "error" or user defined     * @author administrator     */    @RequestMapping(value = "/remind/WmsCreCreditRepayHistorysave.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public String doSave(HttpServletRequest request, WmsCreCreditRepayHistorySearchBeanVO queryInfo) {        String result = "";        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        try {            result = wmscrecreditrepayhistoryService.save(queryInfo, user);        }        catch (Exception e) {            log.error(e.getMessage());            result = "error";        }        return result;    }    /**     * Description : 修改     *      * @param bean     * @return "success" or "error" or user defined     * @author administrator     */    @RequestMapping(value = "/remind/WmsCreCreditRepayHistoryupdate.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public String doUpdate(HttpServletRequest request, WmsCreCreditRepayHistory bean) {        String result = "";        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        try {            result = wmscrecreditrepayhistoryService.update(bean, user);        }        catch (Exception e) {            log.error(e.getMessage());            result = "error";        }        return result;    }        /**     * Description : 还款提醒信息修改初始化     *      * @param bean     * @return "success" or "error" or user defined     * @author administrator     */    @RequestMapping(value = "/remind/editRepaymentInfoDisp.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public Map<String, Object> editRepaymentInfoDisp(HttpServletRequest request, WmsCreCreditRepayHistorySearchBeanVO queryInfo) {        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        try {        	queryInfo = wmscrecreditrepayhistoryService.editRepaymentInfoDisp(queryInfo, user);        } catch (Exception e) {            log.error(e.getMessage());        }        return queryInfo.getResMap();    }        /**     * Description : 初始化还款确认信息     *      * @param bean     * @return map     * @author jiaodelong     */    @RequestMapping(value = "/remind/getwmscrecreditrepayhistoryinfo.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public Map<String, Object> getHistoryInfo(HttpServletRequest request, WmsCreCreditRepayHistory bean) {        return  wmscrecreditrepayhistoryService.getHistoryInfo(bean);    }        /***     *      * @Title: wmscrecreditrepayhistoryInfoSave     * @Description: TODO(还款确认保存)     * @param request     * @param bean     * @return      * @author: jiaodelong     * @time:2016年12月5日 上午9:07:59     * history:     * 1、2016年12月5日 jiaodelong 创建方法     */    @RequestMapping(value = "/remind/wmscrecreditrepayhistoryInfoSave.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public String wmscrecreditrepayhistoryInfoSave(HttpServletRequest request, WmsCreCreditRepayHistorySearchBeanVO bean) {    	 String result = "";         HttpSession session = request.getSession();         UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);         try {             result = wmscrecreditrepayhistoryService.wmscrecreditrepayhistoryInfoSave(bean, user);         }         catch (Exception e) {             log.error(e.getMessage());             result = "error";         }         return result;    }        /**     *      * @Title: wmscrecreditrepayhistoryListSave     * @Description: TODO(还款确认批量保存)     * @param request     * @param ids     * @return      * @author: jiaodelong     * @time:2016年12月5日 上午9:07:43     * history:     * 1、2016年12月5日 jiaodelong 创建方法     */    @RequestMapping(value = "/remind/wmscrecreditrepayhistoryListSave.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public String wmscrecreditrepayhistoryListSave(HttpServletRequest request, String ids) {    	 String result = "";         HttpSession session = request.getSession();         UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);         try {             result = wmscrecreditrepayhistoryService.wmscrecreditrepayhistoryListSave(ids, user);         }         catch (Exception e) {             log.error(e.getMessage());             result = "error";         }         return result;    }    }