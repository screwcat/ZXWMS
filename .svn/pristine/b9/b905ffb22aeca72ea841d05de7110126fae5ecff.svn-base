package com.zx.emanage.remind.web;import java.util.Map;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpSession;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import com.zx.emanage.remind.service.IWmsCreCreditSendMessageLogService;import com.zx.emanage.remind.vo.WmsCreCreditSendMessageLogSearchBeanVO;import com.zx.emanage.util.gen.entity.WmsCreCreditSendMessageLog;import com.zx.sframe.util.GlobalVal;import com.zx.sframe.util.vo.UserBean;/* * @author administrator */@Controllerpublic class WmsCreCreditSendMessageLogController {    private static Logger log = LoggerFactory.getLogger(WmsCreCreditSendMessageLogController.class);    @Autowired    private IWmsCreCreditSendMessageLogService wmscrecreditsendmessagelogService;    /**     * Description : 查询列表(不带分页)     *      * @param queryInfo     * @return record list     * @author administrator     */    @RequestMapping(value = "/remind/searchWmsCreCreditSendMessageLogwithoutpaginglist.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public Map<String, Object> getListWithoutPaging(WmsCreCreditSendMessageLogSearchBeanVO queryInfo) {        return wmscrecreditsendmessagelogService.getListWithoutPaging(queryInfo);    }    /**     * Description : 查询列表(带分页)     *      * @param queryInfo     * @return record list     * @author administrator     */    @RequestMapping(value = "/remind/searchWmsCreCreditSendMessageLogwithpaginglist.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public Map<String, Object> getListWithPaging(WmsCreCreditSendMessageLogSearchBeanVO queryInfo) {        return wmscrecreditsendmessagelogService.getListWithPaging(queryInfo);    }    /**     * Description : 根据主键查询     *      * @param primary key     * @return WmsCreCreditSendMessageLogVO     * @author administrator     */    @RequestMapping(value = "/remind/WmsCreCreditSendMessageLoggetinfobypk.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public WmsCreCreditSendMessageLog getInfoByPK(Integer WmsCreCreditSendMessageLog_id) {        return wmscrecreditsendmessagelogService.getInfoByPK(WmsCreCreditSendMessageLog_id);    }    /**     * Description : 新增     *      * @param bean     * @return "success" or "error" or user defined     * @author administrator     */    @RequestMapping(value = "/remind/WmsCreCreditSendMessageLogsave.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public String doSave(HttpServletRequest request, WmsCreCreditSendMessageLog bean) {        String result = "";        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        try {            result = wmscrecreditsendmessagelogService.save(bean, user);        }        catch (Exception e) {            log.error(e.getMessage());            result = "error";        }        return result;    }    /**     * Description : 修改     *      * @param bean     * @return "success" or "error" or user defined     * @author administrator     */    @RequestMapping(value = "/remind/WmsCreCreditSendMessageLogupdate.do", method = {RequestMethod.GET, RequestMethod.POST})    @ResponseBody    public String doUpdate(HttpServletRequest request, WmsCreCreditSendMessageLog bean) {        String result = "";        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        try {            result = wmscrecreditsendmessagelogService.update(bean, user);        }        catch (Exception e) {            log.error(e.getMessage());            result = "error";        }        return result;    }	/**	 * 	 * @Title: sendMessageBirthday	 * @Description: (生日发送祝福短信息)	 * @param request	 * @param bean	 * @return	 * @author: baisong	 * @time:2016年11月15日 下午1:30:40 history: 1、2016年11月15日 baisong 创建方法	 */	@RequestMapping(value = "/remind/shortMessageBirthday.do", method = {			RequestMethod.GET, RequestMethod.POST })	@ResponseBody	public String sendMessageBirthday(HttpServletRequest request,			WmsCreCreditSendMessageLogSearchBeanVO bean) {		String result = "";		HttpSession session = request.getSession();		UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);		try {			result = wmscrecreditsendmessagelogService.sendMessageBirthday(					bean, user);		} catch (Exception e) {			log.error(e.getMessage());			result = "error";		}		return result;	}    	/**	 * 	 * @Title: sendMessageBirthday	 * @Description: (生日发送祝福短信息数量)	 * @param request	 * @param bean	 * @return	 * @author: baisong	 * @time:2016年11月15日 下午1:30:40 history: 1、2016年11月15日 baisong 创建方法	 */	@RequestMapping(value = "/remind/shortMessageBirthdayCount.do", method = {			RequestMethod.GET, RequestMethod.POST })	@ResponseBody	public String sendMessageBirthdayCount(HttpServletRequest request,	WmsCreCreditSendMessageLogSearchBeanVO bean) {		String result = "";		HttpSession session = request.getSession();		UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);		try {			result = wmscrecreditsendmessagelogService					.sendMessageBirthdayCount(bean, user);		} catch (Exception e) {			log.error(e.getMessage());			result = "error";		}		return result;	}		/**	 * 	 * @Title: sendMessageForRepaymentReminder	 * @Description: TODO(还款提醒页面发送短信)	 * @param request	 * @param bean	 * @return 	 * @author: wangyihan	 * @time:2016年11月16日 上午10:16:53	 * history:	 * 1、2016年11月16日 wangyihan 创建方法	 */	@RequestMapping(value = "/remind/sendMessageForRepaymentReminder.do", method = {RequestMethod.GET, RequestMethod.POST })	@ResponseBody	public String sendMessageForRepaymentReminder(HttpServletRequest request,         WmsCreCreditSendMessageLogSearchBeanVO queryInfo) {        HttpSession session = request.getSession();        UserBean user = (UserBean) session.getAttribute(GlobalVal.USER_SESSION);        return wmscrecreditsendmessagelogService.sendMessageForRepaymentReminder(queryInfo, user);	}			}